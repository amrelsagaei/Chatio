/* ========================================
   CHATIO DESIGN SYSTEM v2.0 
   Original Design - Just Better Input
   ======================================== */

/* Import highlight.js CSS for syntax highlighting */
@import url('highlight.js/styles/github.css');
@import url('highlight.js/styles/github-dark.css') (prefers-color-scheme: dark);

/* ======================
   CORE VARIABLES - ENHANCED LIGHT MODE WITH BETTER DEPTH
   ====================== */
:root {
  /* Base colors - Enhanced light mode with better depth */
  --chatio-bg: #fafbfc; /* CHANGED: Slightly cooler background instead of pure white */
  --chatio-surface: #ffffff; /* Keep pure white for cards/surfaces */
  --chatio-border: #d1d9e0; /* CHANGED: Stronger border color for better definition */
  --chatio-hover: #f1f5f9; /* Subtle hover background */
  --chatio-primary: #a53d3c; /* MAIN COLOR: Dark golden-red */
  --chatio-primary-hover: #8a332f;
  --chatio-primary-light: rgba(165, 61, 60, 0.1);
  --chatio-accent: #dba85f; /* ACCENT COLOR: Light golden for borders */
  
  /* RGB versions for transparency effects - Enhanced */
  --chatio-bg-rgb: 250, 251, 252; /* CHANGED: Cooler background */
  --chatio-surface-rgb: 255, 255, 255; /* Pure white for surfaces */
  --chatio-border-rgb: 209, 217, 224; /* CHANGED: Stronger borders */
  --chatio-hover-rgb: 241, 245, 249;
  --chatio-primary-rgb: 165, 61, 60;
  --chatio-accent-rgb: 219, 168, 95;
  
  /* Text colors - Enhanced contrast */
  --chatio-text-primary: #1a202c; /* CHANGED: Darker text for better contrast */
  --chatio-text-secondary: #4a5568; /* CHANGED: Stronger secondary text */
  --chatio-text-muted: #718096; /* CHANGED: Better muted color */
  
  /* Enhanced shadows for depth */
  --chatio-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05); /* SIMPLIFIED: Single, softer shadow */
  --chatio-shadow-md: 0 2px 4px rgba(0, 0, 0, 0.08); /* SIMPLIFIED: Softer medium shadow */
  --chatio-shadow-lg: 0 4px 8px rgba(0, 0, 0, 0.1); /* SIMPLIFIED: Softer large shadow */
  
  /* Card background for better depth */
  --chatio-card: #ffffff; /* Pure white for cards */
}

/* Dark Mode - EXACT CAIDO COLORS */
[data-mode="dark"] {
  /* Base colors - Exact Caido colors provided by user */
  --chatio-bg: #202020; /* Exact Caido background */
  --chatio-surface: #25272d; /* Exact Caido surface */
  --chatio-border: #2f323a; /* Exact Caido border */
  --chatio-hover: #2f323a; /* Exact Caido hover */
  --chatio-primary: #a53d3c; /* MAIN COLOR: Dark golden-red */
  --chatio-primary-hover: #8a332f;
  --chatio-primary-light: rgba(165, 61, 60, 0.1);
  --chatio-accent: #dba85f; /* ACCENT COLOR: Light golden for borders */
  
  /* RGB versions for transparency effects - Exact Caido colors */
  --chatio-bg-rgb: 32, 32, 32;
  --chatio-surface-rgb: 37, 39, 45;
  --chatio-border-rgb: 47, 50, 58;
  --chatio-hover-rgb: 47, 50, 58;
  --chatio-primary-rgb: 165, 61, 60;
  --chatio-accent-rgb: 219, 168, 95;
  
  /* Text colors - Caido-style */
  --chatio-text-primary: #ffffff; /* Pure white for contrast */
  --chatio-text-secondary: #b0b0b0; /* Light grey */
  --chatio-text-muted: #808080; /* Muted grey */
  
  /* Shadows - warmer dark theme */
  --chatio-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.6);
  --chatio-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --chatio-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
}

/* ======================
   MENTION STYLING - FIXED POINTER CURSOR AND BACKGROUND
   ====================== */
.chatio-mention {
  background: #1a1a1a;
  color: #ffffff;
  padding: 3px 8px;
  border-radius: 4px;
  font-weight: 500;
  font-size: 0.9em;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid var(--chatio-accent);
  display: inline-block;
  margin: 0 2px;
}

.chatio-mention:hover {
  background: var(--chatio-primary);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(var(--chatio-primary-rgb), 0.3);
  border-color: var(--chatio-accent);
}

[data-mode="dark"] .chatio-mention {
  background: #333333;
  color: #ffffff;
  border-color: var(--chatio-accent);
}

[data-mode="dark"] .chatio-mention:hover {
  background: var(--chatio-primary);
}

/* ======================
   LAYOUT FOUNDATION - FIXED FOR CAIDO COMPATIBILITY
   ====================== */
.chatio-app {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  background: var(--chatio-bg);
  color: var(--chatio-text-primary);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  position: relative;
  overflow: hidden; /* Prevent scrollbars on main container */
}

/* Header with fixed height */
.chatio-header {
  background: var(--chatio-surface);
  border-bottom: 1px solid var(--chatio-border);
  padding: 0 24px;
  height: 60px; /* Fixed header height */
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-shrink: 0; /* Prevent header from shrinking */
  position: relative;
  z-index: 10;
}

/* Status bar with fixed height */
.chatio-status-bar {
  background: var(--chatio-surface);
  border-top: 1px solid var(--chatio-border);
  padding: 8px 24px;
  height: 40px; /* Fixed status bar height */
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 12px;
  color: var(--chatio-text-secondary);
  flex-shrink: 0; /* Prevent status bar from shrinking */
}

.chatio-status-indicator {
  display: flex;
  align-items: center;
  gap: 8px;
}

.chatio-status-dot {
  width: 6px;
  height: 6px;
  background: var(--chatio-primary);
  border-radius: 50%;
  flex-shrink: 0;
}

/* Navigation Tabs - High Contrast */
.chatio-tabs {
  display: flex;
  background: transparent;
  border: none;
  gap: 0;
}

.chatio-tab {
  padding: 16px 20px;
  background: transparent;
  border: none;
  color: var(--chatio-text-secondary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  border-bottom: 2px solid transparent;
  position: relative;
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
  user-select: none;
}

.chatio-tab:hover {
  color: var(--chatio-text-primary);
  background: var(--chatio-hover);
}

.chatio-tab.active {
  color: var(--chatio-primary);
  border-bottom-color: var(--chatio-primary);
  background: transparent;
}

.chatio-tab:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(165, 61, 60, 0.2);
}

/* Dark/Light Mode Toggle */
.chatio-theme-toggle {
  padding: 8px 12px;
  border: none; /* REMOVED: No border */
  background: var(--chatio-surface);
  color: var(--chatio-text-secondary);
  border-radius: 6px;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  user-select: none;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* SIMPLIFIED: Much softer shadow */
}

.chatio-theme-toggle:hover {
  background: var(--chatio-hover);
  color: var(--chatio-text-primary);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08); /* SIMPLIFIED: Softer hover shadow */
}

.chatio-theme-toggle:active {
  transform: translateY(0);
  box-shadow: none;
}

.chatio-theme-toggle:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(165, 61, 60, 0.2);
}

/* Content area that adapts to available space */
.chatio-content {
  flex: 1; /* Take remaining space between header and status bar */
  overflow: hidden; /* Prevent overflow on content container */
  background: var(--chatio-bg);
  display: flex;
  flex-direction: column;
  min-height: 0; /* Important for proper flex behavior with dynamic content */
  position: relative;
}

/* ======================
   CHAT INTERFACE - COMPACT DESIGN FOR MORE READING SPACE
   ====================== */
.chatio-chat {
  flex: 1; /* Take all available content space */
  display: flex;
  flex-direction: column;
  background: var(--chatio-bg);
  min-height: 0; /* Critical for proper flex behavior */
  position: relative;
  overflow: hidden; /* Prevent chat container overflow */
}

.chatio-chat-header {
  background: var(--chatio-surface);
  border-bottom: 1px solid var(--chatio-border);
  padding: 12px 20px; /* REDUCED from 16px 24px */
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-shrink: 0;
  position: relative;
  z-index: 10;
}

.chatio-chat-title {
  font-size: 15px; /* REDUCED from 16px */
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 0;
}

.chatio-chat-actions {
  display: flex;
  gap: 6px; /* REDUCED from 8px */
}

.chatio-chat-btn {
  padding: 6px 10px; /* REDUCED from 8px 12px */
  border: none; /* REMOVED: No border */
  border-radius: 6px;
  background: var(--chatio-surface);
  color: var(--chatio-text-secondary);
  font-size: 12px; /* REDUCED from 13px */
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 4px; /* REDUCED from 6px */
  white-space: nowrap;
  user-select: none;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* SIMPLIFIED: Much softer shadow */
}

.chatio-chat-btn:hover {
  background: var(--chatio-hover);
  color: var(--chatio-text-primary);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08); /* SIMPLIFIED: Softer hover shadow */
}

.chatio-chat-btn:active {
  transform: translateY(0);
  box-shadow: none;
}

.chatio-chat-btn.primary {
  background: var(--chatio-primary);
  color: white;
  border-color: var(--chatio-accent);
}

.chatio-chat-btn.primary:hover {
  background: var(--chatio-primary-hover);
  transform: translateY(-1px);
  box-shadow: var(--chatio-shadow-md);
}

/* Chat Main Container */
.chatio-chat-main {
  flex: 1; /* Take remaining space after chat header */
  display: flex;
  overflow: hidden;
  min-height: 0; /* Essential for flex children */
  position: relative;
}

.chatio-chat-content {
  flex: 1; /* Take remaining space in main container */
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  min-height: 0; /* Critical for proper height calculation */
}

/* Messages Area - COMPACT for more reading space */
.chatio-messages {
  flex: 1; /* Take space between chat header and input area */
  overflow-y: auto; /* Allow vertical scrolling */
  overflow-x: hidden; /* Prevent horizontal scrolling */
  padding: 12px; /* REDUCED from 16px */
  background: var(--chatio-bg);
  min-height: 0; /* Allow shrinking when input area grows */
  scroll-behavior: smooth;
  word-wrap: break-word;
  overflow-wrap: break-word;
  
  /* COMPACT padding for better space usage */
  padding-bottom: 12px; /* REDUCED from 16px */
  
  /* Smooth transitions when layout changes */
  transition: padding 0.3s ease;
}

/* Removed .chatio-messages.resized as we're using flexbox now */

.chatio-message {
  margin-bottom: 16px; /* REDUCED from 20px */
  display: flex;
  gap: 10px; /* REDUCED from 12px */
  animation: messageSlideIn 0.3s ease-out;
}

@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.chatio-message.user {
  flex-direction: row-reverse; /* User avatar on RIGHT */
}

/* Modern Avatar */
.chatio-avatar {
  width: 36px; /* REDUCED from 40px */
  height: 36px; /* REDUCED from 40px */
  border-radius: 10px; /* REDUCED from 12px */
  background: var(--chatio-surface);
  border: 2px solid var(--chatio-border);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px; /* REDUCED from 16px */
  flex-shrink: 0;
  color: var(--chatio-text-secondary);
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.chatio-message.user .chatio-avatar {
  background: linear-gradient(135deg, var(--chatio-primary), var(--chatio-primary-hover));
  color: white;
  border-color: var(--chatio-primary);
  box-shadow: 0 4px 12px rgba(165, 61, 60, 0.3);
}

.chatio-message-content {
  flex: 1;
  max-width: 80%; /* More generous width */
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Assistant messages can be a bit wider */
.chatio-message:not(.user) .chatio-message-content {
  max-width: 85%;
}

/* Modern Message Bubbles - CAIDO COLOR SCHEME */
.chatio-message-bubble {
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border); /* Thinner border for compact look */
  border-radius: 10px; /* REDUCED from 12px */
  padding: 10px 14px; /* REDUCED from 12px 16px */
  font-size: 13px; /* REDUCED from 14px */
  line-height: 1.4; /* REDUCED from 1.5 for more content */
  color: var(--chatio-text-primary);
  word-wrap: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
  position: relative;
  box-shadow: var(--chatio-shadow-sm); /* Lighter shadow */
  transition: all 0.2s ease;
}

.chatio-message-bubble:hover {
  box-shadow: var(--chatio-shadow-md);
  border-color: rgba(219, 168, 95, 0.3); /* Accent golden highlight border on hover */
  transform: translateY(-1px); /* Subtle lift effect */
}

/* User message bubble - Primary color theme */
.chatio-message.user .chatio-message-bubble {
  background: linear-gradient(135deg, rgba(165, 61, 60, 0.1), rgba(165, 61, 60, 0.15)); /* Primary color background */
  border: 1px solid rgba(165, 61, 60, 0.4); /* Primary color border */
  border-radius: 12px 12px 4px 12px; /* Tail effect */
  box-shadow: 0 2px 8px rgba(165, 61, 60, 0.15); /* Primary color shadow */
}

.chatio-message.user .chatio-message-bubble:hover {
  border-color: var(--chatio-primary); /* Full primary border on hover */
  box-shadow: 0 4px 12px rgba(165, 61, 60, 0.25);
}

/* Assistant message bubble */
.chatio-message:not(.user) .chatio-message-bubble {
  border-radius: 12px 12px 12px 4px; /* Tail effect */
  border-color: var(--chatio-border); /* Standard border for assistant */
}

.chatio-message:not(.user) .chatio-message-bubble:hover {
  border-color: rgba(219, 168, 95, 0.2); /* Subtle accent tint on hover */
}

/* Dark mode adjustments - keep existing styling but ensure borders remain visible */
[data-mode="dark"] .chatio-message.user .chatio-message-bubble {
  background: linear-gradient(135deg, rgba(165, 61, 60, 0.1), rgba(165, 61, 60, 0.15));
  border-color: rgba(165, 61, 60, 0.4); /* Primary color border */
  color: var(--chatio-text-primary);
}

[data-mode="dark"] .chatio-message:not(.user) .chatio-message-bubble {
  border-color: var(--chatio-border); /* Keep standard border in dark mode */
}

[data-mode="dark"] .chatio-message-bubble:hover {
  border-color: rgba(165, 61, 60, 0.4); /* Primary color hover */
}

/* Modern message timestamp */
.chatio-message-time {
  font-size: 11px;
  color: var(--chatio-text-muted);
  margin-top: 8px;
  opacity: 0.7;
  transition: opacity 0.2s ease;
}

.chatio-message:hover .chatio-message-time {
  opacity: 1;
}

/* ======================
   WORKING INPUT AREA - WIDER & MORE TRANSPARENT
   ====================== */
.chatio-input-area {
  /* Compact floating input design */
  flex-shrink: 0;
  padding: 16px 12px; /* REDUCED from 20px 16px */
  background: transparent; /* Completely transparent background */
  border-top: none; /* No border */
  position: relative;
  width: 100%;
  max-width: none;
  z-index: 50; /* Lower z-index to avoid conflicts */
}

.chatio-input-main {
  /* Compact glass-like effect with PRIMARY border for better contrast */
  background: rgba(var(--chatio-surface-rgb), 0.1); /* Very subtle background */
  border: 2px solid var(--chatio-primary); /* PRIMARY BORDER: Dark golden-red for better contrast */
  border-radius: 12px; /* REDUCED from 16px for more compact look */
  width: 100%;
  max-width: 1000px; /* REDUCED from 1200px for more compact */
  margin: 0 auto;
  overflow: hidden;
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(165, 61, 60, 0.08); /* SIMPLIFIED: Much softer primary shadow */
  backdrop-filter: blur(8px); /* REDUCED blur */
  -webkit-backdrop-filter: blur(8px); /* Safari support */
}

.chatio-input-main:focus-within {
  border-color: var(--chatio-primary-hover); /* Darker primary on focus */
  box-shadow: 0 3px 6px rgba(165, 61, 60, 0.12); /* SIMPLIFIED: Softer focus shadow */
  transform: translateY(-1px); /* REDUCED lift effect */
  background: rgba(var(--chatio-surface-rgb), 0.15); /* Slightly more visible when focused */
}

.chatio-input {
  width: 100%;
  min-height: 50px; /* REDUCED from 60px */
  max-height: 150px; /* REDUCED from 200px */
  padding: 16px 20px; /* REDUCED from 20px 24px */
  border: none;
  background: transparent; /* Completely transparent */
  color: var(--chatio-text-primary);
  font-size: 14px; /* REDUCED from 15px */
  line-height: 1.5; /* REDUCED from 1.6 */
  resize: none;
  outline: none;
  font-family: inherit;
  transition: all 0.2s ease;
}

.chatio-input::placeholder {
  color: var(--chatio-text-muted);
  font-size: 15px;
  opacity: 0.7;
}

.chatio-input-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px; /* More padding for better spacing */
  border-top: 1px solid rgba(var(--chatio-border-rgb), 0.2); /* Very subtle border */
  background: rgba(var(--chatio-surface-rgb), 0.05); /* Almost transparent */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.chatio-toolbar-left {
  display: flex;
  gap: 6px;
  flex: 1;
}

.chatio-toolbar-right {
  display: flex;
  gap: 8px;
  align-items: center;
}

.chatio-input-tool-btn {
  padding: 6px 10px;
  background: var(--chatio-surface);
  border: none; /* REMOVED: No border */
  border-radius: 6px; /* More rounded */
  color: var(--chatio-text-secondary);
  font-size: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 4px;
  transition: all 0.2s ease;
  white-space: nowrap;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* SIMPLIFIED: Much softer shadow */
}

.chatio-input-tool-btn:hover {
  background: var(--chatio-hover);
  color: var(--chatio-text-primary);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08); /* SIMPLIFIED: Softer hover shadow */
}

/* Module Selector Button - SIMPLE BUTTON STYLE */
.chatio-module-selector {
  padding: 8px 12px;
  background: var(--chatio-surface);
  border: none; /* REMOVED: No border */
  border-radius: 6px; /* More rounded */
  color: var(--chatio-text-secondary);
  font-size: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s ease;
  min-width: 120px;
  position: relative;
  z-index: 10;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* SIMPLIFIED: Much softer shadow */
}

.chatio-module-selector:hover {
  background: var(--chatio-hover);
  color: var(--chatio-text-primary);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08); /* SIMPLIFIED: Softer hover shadow */
}

.chatio-module-selector.active {
  background: var(--chatio-primary);
  color: white;
  border-color: var(--chatio-primary);
}

/* ======================
   MODULE SELECTION MODAL - MODERN DESIGN
   ====================== */
.chatio-module-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  backdrop-filter: blur(4px);
  animation: modalFadeIn 0.2s ease-out;
}

.chatio-module-modal {
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 12px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
  width: 95%;
  max-width: 800px;
  max-height: 80vh;
  overflow: hidden;
  animation: modalSlideIn 0.3s ease-out;
}

.chatio-module-modal-header {
  padding: 20px 24px;
  border-bottom: 1px solid var(--chatio-border);
  background: var(--chatio-bg);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.chatio-module-modal-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 0;
  display: flex;
  align-items: center;
  gap: 10px;
}

.chatio-module-modal-close {
  width: 32px;
  height: 32px;
  border: none;
  background: transparent;
  color: var(--chatio-text-muted);
  cursor: pointer;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.chatio-module-modal-close:hover {
  background: var(--chatio-hover);
  color: var(--chatio-text-primary);
}

.chatio-module-modal-body {
  padding: 24px;
  max-height: 60vh;
  overflow-y: auto;
}

.chatio-provider-section {
  margin-bottom: 24px;
}

.chatio-provider-section:last-child {
  margin-bottom: 0;
}

.chatio-provider-section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--chatio-border);
}

/* FIXED: Provider icon with proper light/dark mode backgrounds */
.chatio-provider-icon {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  background: var(--chatio-surface); /* Surface background for light mode */
  border: 2px solid var(--chatio-border);
  border-radius: 8px;
  color: var(--chatio-text-primary);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Enhanced provider icons with proper scaling */
.chatio-provider-icon {
  width: 36px; /* Larger icons */
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px; /* Larger icon size */
  background: var(--chatio-surface); /* Surface background for light mode */
  border: 2px solid var(--chatio-border);
  border-radius: 10px; /* More rounded */
  color: var(--chatio-text-primary);
  box-shadow: var(--chatio-shadow-md);
  transition: all 0.3s ease;
}

/* DARK MODE: Transparent backgrounds for icons */
[data-mode="dark"] .chatio-provider-icon {
  background: transparent; /* TRANSPARENT in dark mode */
  border-color: var(--chatio-border);
}

/* FIXED: Modal provider icon with proper backgrounds */
.chatio-provider-section-header .chatio-provider-icon {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--chatio-surface); /* Surface background for light mode */
  color: var(--chatio-text-primary);
  border: 2px solid var(--chatio-border);
  border-radius: 6px;
  font-size: 16px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* DARK MODE: Transparent backgrounds for modal icons */
[data-mode="dark"] .chatio-provider-section-header .chatio-provider-icon {
  background: transparent; /* TRANSPARENT in dark mode */
  border-color: var(--chatio-border);
}

.chatio-provider-name {
  font-size: 16px;
  font-weight: 600;
  color: var(--chatio-text-primary);
}

.chatio-provider-models {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
  margin-left: 36px;
}

.chatio-model-option {
  padding: 16px 20px;
  background: var(--chatio-bg);
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  min-height: 50px;
}

.chatio-model-option:hover {
  background: var(--chatio-hover);
  border-color: var(--chatio-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(165, 61, 60, 0.1);
}

.chatio-model-option.selected {
  background: var(--chatio-primary);
  color: white;
  border-color: var(--chatio-primary);
  box-shadow: 0 4px 16px rgba(165, 61, 60, 0.3);
}

.chatio-model-name {
  font-size: 15px;
  font-weight: 600;
  flex: 1;
}

.chatio-model-badge {
  font-size: 11px;
  padding: 4px 8px;
  background: var(--chatio-surface);
  border-radius: 6px;
  opacity: 0.9;
  font-weight: 500;
  white-space: nowrap;
}

.chatio-model-option.selected .chatio-model-badge {
  background: rgba(255, 255, 255, 0.2);
  color: white;
}

.chatio-provider-empty {
  margin-left: 36px;
  padding: 16px;
  background: rgba(165, 61, 60, 0.05);
  border: 1px dashed var(--chatio-primary);
  border-radius: 8px;
  text-align: center;
  color: var(--chatio-text-muted);
}

.chatio-provider-empty-text {
  font-size: 14px;
  margin-bottom: 8px;
}

.chatio-provider-empty-action {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--chatio-primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.chatio-provider-empty-action:hover {
  background: var(--chatio-primary-hover);
  transform: translateY(-1px);
}

/* ======================
   CODE BLOCKS - STYLE COMPACT FORMATTING
   ====================== */
.chatio-code-block {
  position: relative;
  background: #f8fafc; /* Light mode background */
  border: 1px solid var(--chatio-border);
  border-radius: 6px; /* More subtle rounding */
  margin: 1em 0; /* Compact margin */
  overflow: hidden;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace;
  font-size: 14px; /* Slightly larger for readability */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Subtle shadow */
  transition: all 0.2s ease;
}

.chatio-code-block:hover {
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

.chatio-code-content {
  padding: 1em; /* Compact padding */
  overflow-x: auto;
  background: #ffffff; /* Light mode content background */
  line-height: 1.4; /* Tighter line height */
  max-height: 500px; /* Reasonable max height */
  overflow-y: auto;
  color: var(--chatio-text-primary);
}

.chatio-code-content pre {
  margin: 0;
  padding: 0;
  white-space: pre;
  color: inherit;
  line-height: 1.4;
  font-family: inherit;
  font-size: inherit;
}

.chatio-code-content code {
  font-family: inherit;
  font-size: inherit;
  background: none;
  padding: 0;
  margin: 0;
  color: inherit;
  display: block;
}

/* Code block header - compact style */
.chatio-code-header {
  background: rgba(var(--chatio-border-rgb), 0.05);
  border-bottom: 1px solid var(--chatio-border);
  padding: 0.5em 1em; /* Compact padding */
  display: flex;
  align-items: center;
  justify-content: space-between;
  min-height: 32px; /* Smaller header */
}

/* Language indicator - subtle */
.chatio-code-lang {
  font-size: 12px;
  color: var(--chatio-text-secondary);
  font-weight: 500;
  text-transform: lowercase; /* More subtle than uppercase */
  background: transparent;
  padding: 0;
  border: none;
  margin: 0;
  flex-shrink: 0;
}

/* Copy button - style */
.chatio-code-copy {
  padding: 0.25em 0.75em;
  background: transparent;
  color: var(--chatio-text-secondary);
  border: 1px solid var(--chatio-border);
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 500;
  font-family: inherit;
  margin: 0;
  flex-shrink: 0;
}

.chatio-code-copy:hover {
  background: var(--chatio-hover);
  color: var(--chatio-text-primary);
  border-color: var(--chatio-primary);
}

.chatio-code-copy:active {
  transform: none;
}

/* Dark mode adjustments - keep black/grey theme */
[data-mode="dark"] .chatio-code-block {
  background: #1a1a1a;
  border-color: #333333;
}

[data-mode="dark"] .chatio-code-content {
  background: #0a0a0a;
  color: #ffffff;
}

[data-mode="dark"] .chatio-code-header {
  background: #1a1a1a; /* Black/grey instead of dark blue */
  border-bottom-color: #333333;
}

[data-mode="dark"] .chatio-code-lang {
  color: #888888;
  background: transparent; /* Remove background */
}

[data-mode="dark"] .chatio-code-copy {
  background: #dc2626;
}

[data-mode="dark"] .chatio-code-copy:hover {
  background: #b91c1c;
}

/* Light mode syntax highlighting - ENHANCED CONTRAST */
.chatio-code-content .http-method {
  color: #dc2626; /* Strong red */
  font-weight: bold;
}

.chatio-code-content .http-url {
  color: #0891b2; /* Strong cyan */
  font-weight: 500;
}

.chatio-code-content .http-header {
  color: #7c3aed; /* Strong purple */
  font-weight: 500;
}

.chatio-code-content .http-value {
  color: #059669; /* Strong green */
}

/* JSON syntax highlighting - ENHANCED CONTRAST */
.chatio-code-content .json-key {
  color: #ea580c; /* Strong orange */
  font-weight: 600;
}

.chatio-code-content .json-string {
  color: #059669; /* Strong green */
}

.chatio-code-content .json-number {
  color: #2563eb; /* Strong blue */
}

.chatio-code-content .json-boolean {
  color: #7c3aed; /* Strong purple */
}

/* Inline code styling - ENHANCED CONTRAST */
code:not(.chatio-code-content code) {
  background: rgba(var(--chatio-border-rgb), 0.15);
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace;
  color: var(--chatio-primary);
  font-size: 0.9em;
  font-weight: 500;
}

/* Dark mode adjustments - FIXED TO MATCH BLACK/GREY THEME */
[data-mode="dark"] .chatio-code-block {
  background: #1a1a1a; /* Black/grey background instead of dark blue */
  border-color: #333333;
}

[data-mode="dark"] .chatio-code-content {
  background: #0a0a0a; /* Very dark grey content instead of dark blue */
  color: #ffffff;
  border-top-color: #333333;
}

[data-mode="dark"] .chatio-code-header {
  background: #1a1a1a; /* Black/grey instead of dark blue */
  border-bottom-color: #333333;
}

[data-mode="dark"] .chatio-code-lang {
  background: transparent; /* Remove background */
  border-color: #444444;
  color: #7c3aed;
}

[data-mode="dark"] .chatio-code-copy {
  background: #dc2626;
}

[data-mode="dark"] .chatio-code-copy:hover {
  background: #b91c1c;
}

/* Dark mode syntax - KEEP BRIGHT COLORS */
[data-mode="dark"] .chatio-code-content .http-method {
  color: #ff6b6b;
}

[data-mode="dark"] .chatio-code-content .http-url {
  color: #4ecdc4;
}

[data-mode="dark"] .chatio-code-content .http-header {
  color: #a78bfa;
}

[data-mode="dark"] .chatio-code-content .http-value {
  color: #34d399;
}

[data-mode="dark"] .chatio-code-content .json-key {
  color: #fbbf24;
}

[data-mode="dark"] .chatio-code-content .json-string {
  color: #34d399;
}

[data-mode="dark"] .chatio-code-content .json-number {
  color: #60a5fa;
}

[data-mode="dark"] .chatio-code-content .json-boolean {
  color: #a78bfa;
}

[data-mode="dark"] code:not(.chatio-code-content code) {
  background: #161b22;
  border-color: #30363d;
  color: #fbbf24;
}

.chatio-copy-btn {
  padding: 4px 8px;
  background: var(--chatio-primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 500;
}

.chatio-copy-btn:hover {
  background: var(--chatio-primary-hover);
}

/* Professional image display */
.chatio-image-container {
  margin: 12px 0;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid var(--chatio-border);
  cursor: pointer;
  transition: all 0.2s ease;
}

.chatio-image-container:hover {
  box-shadow: var(--chatio-shadow-md);
  transform: translateY(-1px);
}

/* Smaller images in messages */
.chatio-message-image {
  max-width: 300px; /* Much smaller than 100% */
  max-height: 200px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  object-fit: cover;
}

.chatio-message-image:hover {
  transform: scale(1.02);
  box-shadow: var(--chatio-shadow-md);
}

/* Image Modal */
.image-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000; /* Very high z-index for modal */
  backdrop-filter: blur(8px);
  animation: modalFadeIn 0.3s ease-out;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(8px);
  }
}

.image-modal-content {
  position: relative;
  max-width: 90vw;
  max-height: 90vh;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
  from {
    transform: scale(0.9) translateY(20px);
    opacity: 0;
  }
  to {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
}

.image-modal-content img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
}

.image-modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 40px;
  height: 40px;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  transition: all 0.2s ease;
  z-index: 10;
}

.image-modal-close:hover {
  background: rgba(0, 0, 0, 0.9);
  transform: scale(1.1);
}

/* Image Navigation Arrows */
.chatio-image-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 50px;
  height: 50px;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  transition: all 0.2s ease;
  z-index: 10;
}

.chatio-image-nav:hover {
  background: rgba(0, 0, 0, 0.9);
  transform: translateY(-50%) scale(1.1);
}

.chatio-image-nav.prev {
  left: 20px;
}

.chatio-image-nav.next {
  right: 20px;
}

/* File Items for Non-Images */
.chatio-file-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  margin: 8px 0;
  transition: all 0.2s ease;
}

.chatio-file-item:hover {
  background: var(--chatio-hover);
  border-color: var(--chatio-primary);
  transform: translateX(2px);
}

.chatio-file-icon {
  width: 32px;
  height: 32px;
  background: var(--chatio-primary);
  color: white;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  flex-shrink: 0;
}

.chatio-file-info {
  flex: 1;
  min-width: 0;
}

.chatio-file-name {
  font-size: 14px;
  font-weight: 500;
  color: var(--chatio-text-primary);
  margin-bottom: 2px;
  word-break: break-word;
}

.chatio-file-size {
  font-size: 12px;
  color: var(--chatio-text-muted);
}

.chatio-file-download {
  padding: 6px 12px;
  background: var(--chatio-primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 500;
}

.chatio-file-download:hover {
  background: var(--chatio-primary-hover);
  transform: translateY(-1px);
}

/* ======================
   IMAGE GALLERY SYSTEM
   ====================== */
.chatio-image-gallery {
  display: grid;
  gap: 8px;
  margin: 12px 0;
  border-radius: 8px;
  overflow: hidden;
}

/* Grid layouts for different image counts */
.chatio-image-gallery.single {
  grid-template-columns: 1fr;
}

.chatio-image-gallery.double {
  grid-template-columns: repeat(2, 1fr);
}

.chatio-image-gallery.triple {
  grid-template-columns: repeat(3, 1fr);
}

.chatio-image-gallery.four {
  grid-template-columns: repeat(4, 1fr);
}

.chatio-image-gallery.five {
  grid-template-columns: repeat(5, 1fr);
}

.chatio-image-gallery.six-plus {
  grid-template-columns: repeat(6, 1fr);
}

.chatio-image-item {
  position: relative;
  cursor: pointer;
  transition: transform 0.2s ease;
  border-radius: 8px;
  overflow: hidden;
  background: var(--chatio-surface-1);
}

.chatio-image-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.chatio-gallery-image {
  width: 100%;
  height: 120px; /* Fixed height for consistent grid */
  object-fit: cover;
  display: block;
}

.chatio-image-more-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 8px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 2;
}

.chatio-overlay-background-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: blur(3px);
  opacity: 0.7;
  z-index: 1;
}

.chatio-overlay-content {
  position: relative;
  z-index: 3;
  text-align: center;
  color: white;
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0,0,0,0.8);
}

.chatio-overlay-count {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 4px;
  text-shadow: 0 2px 8px rgba(0,0,0,0.9);
}

.chatio-overlay-text {
  font-size: 12px;
  font-weight: 600;
  opacity: 0.9;
  text-shadow: 0 1px 4px rgba(0,0,0,0.8);
}

.chatio-image-more-overlay:hover {
  transform: scale(1.02);
}

.chatio-image-more-overlay:hover .chatio-overlay-background-image {
  filter: blur(2px);
  opacity: 0.8;
}

.chatio-image-name {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
  color: white;
  padding: 8px 6px 4px 6px;
  font-size: 10px;
  font-weight: 500;
  text-align: center;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.chatio-image-item:hover .chatio-image-name {
  opacity: 1;
}

/* Enhanced Mobile Responsive with Better Image Gallery */
@media (max-width: 768px) {
  .chatio-header {
    padding: 0 16px;
  }
  
  .chatio-messages {
    padding: 16px;
    padding-bottom: 16px;
  }
  
  .chatio-input-area {
    padding: 12px 16px;
  }
  
  .chatio-input-main {
    max-width: none;
    margin: 0;
    border-radius: 6px;
  }
  
  .chatio-input {
    min-height: 40px;
    font-size: 14px;
  }
  
  .chatio-input-toolbar {
    gap: 8px;
    padding-top: 8px;
    flex-direction: column;
    gap: 8px;
  }
  
  .chatio-toolbar-left {
    gap: 6px;
    order: 2;
  }
  
  .chatio-toolbar-right {
    gap: 6px;
    order: 1;
    width: 100%;
    justify-content: space-between;
  }
  
  .chatio-module-selector {
    flex: 1;
    min-width: auto;
    margin-right: 8px;
    z-index: 600;
  }
  
  .chatio-module-modal-overlay {
    z-index: 1200;
    position: absolute !important;
    bottom: 100%;
    left: 0;
    right: 0;
    max-height: 200px;
  }
  
  .chatio-input-tool-btn {
    padding: 8px 10px;
    font-size: 12px;
  }
  
  .chatio-send-btn {
    padding: 10px 14px;
    font-size: 13px;
    min-width: 70px;
  }
  
  .chatio-message {
    margin-bottom: 24px;
    gap: 12px;
  }
  
  .chatio-avatar {
    width: 36px;
    height: 36px;
    border-radius: 10px;
  }
  
  .chatio-message-content {
    max-width: 85%;
  }
  
  .chatio-message:not(.user) .chatio-message-content {
    max-width: 90%;
  }
  
  .chatio-message-bubble {
    padding: 12px 16px;
    font-size: 14px;
    border-radius: 14px;
  }
  
  .chatio-message.user .chatio-message-bubble {
    border-radius: 14px 14px 4px 14px;
  }
  
  .chatio-message:not(.user) .chatio-message-bubble {
    border-radius: 14px 14px 14px 4px;
  }
  
  .chatio-image-gallery {
    grid-template-columns: repeat(2, 1fr) !important;
    max-width: 100%;
    gap: 6px;
  }
  
  .chatio-image-gallery.single {
    grid-template-columns: 1fr !important;
    max-width: 250px;
  }
  
  .chatio-gallery-image {
    height: 100px;
  }
  
  .chatio-history-sidebar {
    width: 250px;
  }
  
  .chatio-input-tool-btn {
    padding: 6px 8px;
    font-size: 12px;
  }
  
  .chatio-settings-content {
    padding: 16px;
  }

  .chatio-settings-grid {
    grid-template-columns: 1fr;
  }
  
  .chatio-welcome-icon {
    animation: none;
  }
  
  .image-modal-content {
    max-width: 95vw;
    max-height: 85vh;
    margin: 20px;
  }
  
  .chatio-image-nav {
    width: 40px;
    height: 40px;
    font-size: 16px;
  }
  
  .chatio-image-nav.prev {
    left: 10px;
  }
  
  .chatio-image-nav.next {
    right: 10px;
  }
}

/* Enhanced Mobile Responsive with Better Layout Management */
@media (max-width: 768px) {
  .chatio-app {
    /* Ensure proper mobile layout */
    height: 100vh; /* Use viewport height on mobile */
    max-height: 100vh;
  }
  
  .chatio-header {
    padding: 0 16px;
    height: 56px; /* Slightly smaller on mobile */
  }
  
  .chatio-status-bar {
    height: 36px; /* Smaller status bar on mobile */
    padding: 6px 16px;
  }
  
  .chatio-messages {
    padding: 16px;
    padding-bottom: 16px;
  }
  
  .chatio-input-area {
    padding: 16px 12px; /* Reduced padding on mobile */
  }
  
  .chatio-input-main {
    max-width: none;
    margin: 0;
    border-radius: 12px; /* Slightly less rounded on mobile */
  }
  
  .chatio-input {
    min-height: 48px; /* Reduced minimum height */
    max-height: 120px; /* Lower max height on mobile */
    padding: 16px 18px; /* Reduced padding */
    font-size: 14px;
  }
  
  .chatio-input-toolbar {
    padding: 12px 16px;
    flex-direction: row; /* Keep horizontal on mobile */
    gap: 8px;
  }
  
  .chatio-toolbar-left {
    gap: 6px;
    flex-wrap: wrap; /* Allow wrapping if needed */
  }
  
  .chatio-toolbar-right {
    gap: 6px;
    flex-shrink: 0; /* Prevent shrinking */
  }
  
  .chatio-module-selector {
    min-width: 100px; /* Smaller on mobile */
    font-size: 11px;
  }
  
  .chatio-input-tool-btn {
    padding: 6px 8px;
    font-size: 11px;
    /* Hide text on very small screens, keep icons */
  }
  
  .chatio-send-btn {
    padding: 10px 12px;
    font-size: 12px;
    min-width: 60px;
  }
  
  /* Optimize chat layout for mobile */
  .chatio-message {
    margin-bottom: 20px;
    gap: 10px;
  }
  
  .chatio-avatar {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    font-size: 14px;
  }
  
  .chatio-message-content {
    max-width: 85%;
  }
  
  .chatio-message:not(.user) .chatio-message-content {
    max-width: 90%;
  }
  
  .chatio-message-bubble {
    padding: 12px 16px;
    font-size: 14px;
    border-radius: 12px;
  }
  
  .chatio-message.user .chatio-message-bubble {
    border-radius: 12px 12px 4px 12px;
  }
  
  .chatio-message:not(.user) .chatio-message-bubble {
    border-radius: 12px 12px 12px 4px;
  }
  
  /* Optimize image gallery for mobile */
  .chatio-image-gallery {
    grid-template-columns: repeat(2, 1fr) !important;
    max-width: 100%;
    gap: 6px;
  }
  
  .chatio-image-gallery.single {
    grid-template-columns: 1fr !important;
    max-width: 200px;
  }
  
  .chatio-gallery-image {
    height: 80px; /* Smaller images on mobile */
  }
  
  /* Mobile-optimized history sidebar */
  .chatio-history-sidebar {
    width: 280px; /* Larger on mobile for better touch targets */
  }
  
  /* Better settings layout on mobile */
  .chatio-settings-content {
    padding: 16px;
  }

  .chatio-settings-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  /* Disable animations on mobile for better performance */
  .chatio-welcome-icon {
    animation: none;
  }
  
  /* Optimize modal for mobile */
  .image-modal-content {
    max-width: 95vw;
    max-height: 85vh;
    margin: 20px;
  }
  
  .chatio-image-nav {
    width: 36px;
    height: 36px;
    font-size: 14px;
  }
  
  .chatio-image-nav.prev {
    left: 8px;
  }
  
  .chatio-image-nav.next {
    right: 8px;
  }
  
  /* Module modal optimizations */
  .chatio-module-modal {
    width: 95vw;
    max-height: 70vh;
    margin: 0 auto;
  }
  
  .chatio-module-modal-header {
    padding: 16px 20px;
  }
  
  .chatio-module-modal-title {
    font-size: 16px;
  }
}

/* ======================
   UTILITIES
   ====================== */
.chatio-scroll {
  scrollbar-width: thin;
  scrollbar-color: var(--chatio-text-muted) transparent;
}

.chatio-scroll::-webkit-scrollbar {
  width: 6px;
}

.chatio-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.chatio-scroll::-webkit-scrollbar-thumb {
  background: var(--chatio-text-muted);
  border-radius: 3px;
}

.chatio-scroll::-webkit-scrollbar-thumb:hover {
  background: var(--chatio-text-secondary);
}

/* ======================
   BUTTONS
   ====================== */
.chatio-btn {
  padding: 10px 18px; /* Slightly larger padding */
  border: none; /* REMOVED: No borders */
  border-radius: 8px;
  background: var(--chatio-surface); /* Better background */
  color: var(--chatio-text-primary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease; /* Smoother transitions */
  display: inline-flex;
  align-items: center;
  gap: 8px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* SIMPLIFIED: Much softer shadow */
}

.chatio-btn:hover {
  background: var(--chatio-hover);
  transform: translateY(-2px); /* More pronounced lift */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08); /* SIMPLIFIED: Softer hover shadow */
  color: var(--chatio-text-primary);
}

.chatio-btn.primary {
  background: var(--chatio-primary); /* SOLID COLOR: No gradient, just primary */
  color: white;
  border: none; /* REMOVED: No border */
  box-shadow: 0 2px 4px rgba(165, 61, 60, 0.1); /* SIMPLIFIED: Softer primary shadow */
}

.chatio-btn.primary:hover {
  background: var(--chatio-primary-hover); /* SOLID DARKER COLOR on hover */
  transform: translateY(-2px);
  box-shadow: 0 3px 6px rgba(165, 61, 60, 0.15); /* SIMPLIFIED: Softer primary hover shadow */
}

.chatio-btn:active {
  transform: translateY(0);
  box-shadow: var(--chatio-shadow-sm);
}

.chatio-btn.primary::before {
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
}

/* ======================
   SETTINGS PANEL - ENHANCED STYLE
   ====================== */
.chatio-settings {
  height: 100%;
  overflow-y: auto;
  background: linear-gradient(135deg, var(--chatio-bg), var(--chatio-surface));
  padding-bottom: 40px;
  position: relative;
}

.chatio-settings::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: linear-gradient(135deg, rgba(165, 61, 60, 0.03), transparent);
  pointer-events: none;
}

.chatio-settings-content {
  padding: 24px;
  max-width: none;
  position: relative;
  z-index: 1;
}

.chatio-settings-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 24px;
}

@media (max-width: 1024px) {
  .chatio-settings-grid {
    grid-template-columns: 1fr;
  }
}

.chatio-provider-card {
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 12px; /* More rounded corners */
  overflow: hidden;
  transition: all 0.3s ease;
  position: relative;
  box-shadow: var(--chatio-shadow-sm);
}

/* Remove the top border animation */
.chatio-provider-card::before {
  display: none;
}

/* Simplified hover - no transform, no scale, no border changes */
.chatio-provider-card:hover {
  /* Only subtle shadow change */
  box-shadow: var(--chatio-shadow-md);
}

.chatio-provider-header {
  padding: 20px 24px; /* More generous padding */
  background: linear-gradient(135deg, var(--chatio-bg), var(--chatio-surface));
  border-bottom: 1px solid var(--chatio-border);
  display: flex;
  align-items: center;
  gap: 16px; /* More spacing */
  transition: all 0.3s ease;
}

/* Remove header background change on hover */
.chatio-provider-card:hover .chatio-provider-header {
  background: linear-gradient(135deg, var(--chatio-bg), var(--chatio-surface));
}

/* Enhanced provider icons with ONLY scale and rotate animation */
.chatio-provider-icon {
  width: 36px; /* Larger icons */
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px; /* Larger icon size */
  background: var(--chatio-surface); /* Surface background for light mode */
  border: 2px solid var(--chatio-border);
  border-radius: 10px; /* More rounded */
  color: var(--chatio-text-primary);
  box-shadow: var(--chatio-shadow-md);
  transition: all 0.3s ease;
}

/* KEEP ONLY the icon animation - this is the cool part */
.chatio-provider-card:hover .chatio-provider-icon {
  transform: scale(1.1) rotate(5deg); /* Subtle animation */
  box-shadow: var(--chatio-shadow-lg);
}

.chatio-provider-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 0;
}

/* Dark mode fix for provider icons */
/* REMOVED: No longer needed since surface color handles both modes */

/* Dark mode fix for modal provider icons */
/* REMOVED: No longer needed since surface color handles both modes */

.chatio-provider-body {
  padding: 20px;
}

/* Full-width provider card variant for Local LLM (ollama) */
.chatio-provider-card-full {
  grid-column: 1 / -1; /* Take full width of the grid */
  margin-bottom: 24px; /* Add spacing after full-width card */
}

/* Settings columns container - 50% each */
.chatio-settings-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-top: 24px;
}

.chatio-settings-column {
  width: 100%;
}

/* Save button styling - centered and wider */
.chatio-save-btn {
  min-width: 200px;
  padding: 12px 32px;
  font-weight: 600;
  box-shadow: var(--chatio-shadow-md);
}

.chatio-save-btn:hover {
  transform: translateY(-1px);
  box-shadow: var(--chatio-shadow-lg);
}

@media (max-width: 768px) {
  .chatio-settings-columns {
    grid-template-columns: 1fr;
    gap: 16px;
  }
}

.chatio-settings-section {
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  margin-bottom: 24px;
  overflow: hidden;
  transition: all 0.3s ease;
}

.chatio-settings-section:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.chatio-settings-header {
  padding: 20px 24px;
  border-bottom: 1px solid var(--chatio-border);
  background: var(--chatio-bg);
}

.chatio-settings-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 0 0 4px 0;
}

.chatio-settings-desc {
  font-size: 14px;
  color: var(--chatio-text-secondary);
  margin: 0;
}

.chatio-settings-body {
  padding: 24px;
}

.chatio-form-group {
  margin-bottom: 20px;
}

.chatio-form-group:last-child {
  margin-bottom: 0;
}

.chatio-label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: var(--chatio-text-primary);
  margin-bottom: 6px;
}

.chatio-control {
  width: 100%;
  padding: 12px 16px; /* More padding */
  border: 2px solid var(--chatio-border); /* Thicker border */
  border-radius: 8px;
  background: var(--chatio-bg);
  color: var(--chatio-text-primary);
  font-size: 14px;
  transition: all 0.3s ease;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
}

.chatio-control:focus {
  outline: none;
  border-color: var(--chatio-primary);
  box-shadow: 
    inset 0 1px 3px rgba(0, 0, 0, 0.05),
    0 0 0 3px rgba(165, 61, 60, 0.1);
  transform: translateY(-1px);
}

.chatio-control:hover {
  border-color: rgba(165, 61, 60, 0.3);
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

.chatio-textarea {
  min-height: 80px;
  resize: vertical;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}

.chatio-help {
  font-size: 12px;
  color: var(--chatio-text-muted);
  margin-top: 4px;
}

/* ======================
   HELP PANEL SPECIFIC STYLES - IMPROVED CONTRAST
   ====================== */
.chatio-help-panel {
  height: 100%;
  overflow-y: auto;
  background: var(--chatio-bg);
  padding-bottom: 40px;
}

/* Full width About card - JWT Analyzer style */
.chatio-about-card {
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 24px;
}

.chatio-about-header {
  padding: 24px;
  background: var(--chatio-bg);
  border-bottom: 1px solid var(--chatio-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.chatio-about-title {
  display: flex;
  flex-direction: column;
}

.chatio-about-title h3 {
  font-size: 24px;
  font-weight: bold;
  color: var(--chatio-text-primary);
  margin: 0 0 4px 0;
}

.chatio-about-title p {
  font-size: 14px;
  color: var(--chatio-text-muted);
  margin: 0;
}

.chatio-github-btn {
  padding: 10px 16px;
  background: var(--chatio-primary); /* SOLID COLOR: No gradient */
  color: white;
  border: none; /* REMOVED: No border */
  border-radius: 8px; /* More rounded */
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  box-shadow: 0 2px 4px rgba(165, 61, 60, 0.1); /* SIMPLIFIED: Much softer shadow */
}

.chatio-github-btn:hover {
  background: var(--chatio-primary-hover); /* SOLID DARKER COLOR */
  box-shadow: 0 3px 6px rgba(165, 61, 60, 0.15); /* SIMPLIFIED: Softer hover shadow */
  transform: translateY(-2px);
}

.chatio-about-body {
  padding: 24px;
}

.chatio-about-description {
  background: var(--chatio-primary-light);
  border-left: 4px solid var(--chatio-primary);
  border-radius: 6px;
  padding: 16px;
  margin-bottom: 24px;
  color: var(--chatio-text-primary); /* FIXED: Ensure text color is always visible */
}

[data-mode="dark"] .chatio-about-description {
  background: rgba(var(--chatio-primary-rgb), 0.1); /* FIXED: Better background for dark mode */
  border-left-color: var(--chatio-primary);
  color: var(--chatio-text-primary); /* FIXED: Ensure text is visible in dark mode */
}

/* FIXED: Ensure about description paragraph text is always visible */
.chatio-about-description p {
  color: var(--chatio-text-primary) !important;
  margin: 0;
  line-height: 1.6;
}

.chatio-contact-section {
  padding-top: 24px;
  border-top: 1px solid var(--chatio-border);
}

.chatio-contact-links {
  display: flex;
  gap: 24px;
  margin-bottom: 16px;
}

.chatio-contact-link {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--chatio-accent); /* Use accent color instead of secondary */
  text-decoration: none;
  font-size: 14px;
  cursor: pointer;
  transition: color 0.2s ease;
}

.chatio-contact-link:hover {
  color: var(--chatio-primary); /* Primary color on hover */
}

.chatio-made-with-love {
  font-size: 14px;
  color: var(--chatio-text-muted);
  text-align: center;
}

.chatio-made-with-love strong {
  color: var(--chatio-text-primary);
}

/* ======================
   WELCOME STATE - ENHANCED WITH ANIMATIONS
   ====================== */
.chatio-welcome-icon {
  width: 80px;
  height: 80px;
  margin: 0 auto 24px auto;
  background: linear-gradient(135deg, var(--chatio-surface), var(--chatio-card));
  border: 2px solid var(--chatio-accent); /* CHANGED: Use accent color (light golden) instead of primary */
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--chatio-accent); /* CHANGED: Use accent color for icon */
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(219, 168, 95, 0.1); /* CHANGED: Accent color shadow */
  animation: welcomeFloat 3s ease-in-out infinite;
}

/* DARK MODE: Transparent background for welcome icon */
[data-mode="dark"] .chatio-welcome-icon {
  background: transparent; /* TRANSPARENT in dark mode */
  border-color: var(--chatio-accent);
}

.chatio-welcome-icon:hover {
  transform: scale(1.05) rotate(5deg);
  box-shadow: 0 8px 24px rgba(219, 168, 95, 0.2); /* CHANGED: Accent color shadow */
}

@keyframes welcomeFloat {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

.chatio-welcome-icon i {
  font-size: 32px;
  color: var(--chatio-accent); /* CHANGED: Use accent color instead of primary */
  transition: all 0.3s ease;
}

.chatio-welcome-icon:hover i {
  animation: welcomePulse 0.6s ease-in-out;
}

@keyframes welcomePulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/* Enhanced Welcome Cards */
.chatio-welcome-card {
  background: linear-gradient(135deg, var(--chatio-surface), var(--chatio-card));
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  padding: 12px 16px;
  color: var(--chatio-text-primary);
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.chatio-welcome-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(165, 61, 60, 0.1), transparent);
  transition: left 0.5s ease;
}

.chatio-welcome-card:hover::before {
  left: 100%;
}

.chatio-welcome-card:hover {
  background: var(--chatio-hover);
  border-color: var(--chatio-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(165, 61, 60, 0.1);
}

/* ======================
   SEND BUTTON AND TOOLBAR
   ====================== */
.chatio-send-btn {
  padding: 8px 16px;
  background: var(--chatio-primary); /* SOLID COLOR: No gradient */
  border: none; /* REMOVED: No border */
  border-radius: 6px; /* Slightly more rounded */
  color: white;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(165, 61, 60, 0.1); /* SIMPLIFIED: Softer shadow */
}

.chatio-send-btn:hover:not(:disabled) {
  background: var(--chatio-primary-hover); /* SOLID DARKER COLOR */
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(165, 61, 60, 0.15); /* SIMPLIFIED: Softer hover shadow */
}

.chatio-send-btn:disabled {
  background: var(--chatio-text-muted);
  cursor: not-allowed;
  opacity: 0.6;
}

/* ======================
   FILE PREVIEW
   ====================== */
.chatio-file-preview {
  padding: 8px 12px;
  border-bottom: 1px solid var(--chatio-border);
  background: var(--chatio-surface);
}

.chatio-file-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  background: var(--chatio-bg);
  border: 1px solid var(--chatio-border);
  border-radius: 4px;
  margin-bottom: 4px;
  font-size: 12px;
}

.chatio-file-remove {
  padding: 2px 6px;
  background: #ef4444;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  font-size: 10px;
  margin-left: auto;
}

.chatio-file-remove:hover {
  background: #dc2626;
}

.chatio-image-preview {
  width: 24px;
  height: 24px;
  border-radius: 3px;
  object-fit: cover;
}

/* ======================
   SIDEBAR
   ====================== */
.chatio-history-sidebar {
  width: 300px;
  background: var(--chatio-surface);
  border-right: 1px solid var(--chatio-border);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}

.chatio-history-header {
  padding: 16px;
  border-bottom: 1px solid var(--chatio-border);
  background: var(--chatio-bg);
  flex-shrink: 0;
}

.chatio-history-header h3 {
  color: var(--chatio-text-primary) !important;
  font-weight: 600;
  font-size: 16px;
  margin: 0;
}

.chatio-history-list {
  flex: 1;
  overflow-y: auto;
  padding: 8px;
}

.chatio-history-item {
  padding: 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: 6px;
  border: 2px solid var(--chatio-border); /* STRONGER border for better contrast */
  position: relative;
  background: var(--chatio-bg);
  color: var(--chatio-text-primary) !important;
  box-shadow: var(--chatio-shadow-sm); /* Add subtle shadow */
}

.chatio-history-item:hover {
  background: var(--chatio-hover);
  border-color: rgba(165, 61, 60, 0.3); /* Primary border on hover */
  box-shadow: var(--chatio-shadow-md); /* Enhanced shadow on hover */
  transform: translateX(2px); /* Subtle slide effect */
}

.chatio-history-item.active {
  background: var(--chatio-primary);
  border-color: var(--chatio-primary);
  color: white !important;
  box-shadow: 0 4px 12px rgba(165, 61, 60, 0.3); /* Primary shadow for active */
  transform: translateX(4px); /* More pronounced slide for active */
}

.chatio-history-item .font-medium {
  color: inherit !important;
  font-weight: 500;
}

.chatio-history-item .text-xs {
  color: inherit !important;
  opacity: 0.8;
}

/* History Item Actions */
.chatio-history-item-actions {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  gap: 4px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.chatio-history-item:hover .chatio-history-item-actions {
  opacity: 1;
}

.chatio-history-action {
  padding: 4px 6px;
  border: none;
  background: var(--chatio-surface);
  color: var(--chatio-text-secondary);
  border-radius: 4px;
  cursor: pointer;
  font-size: 11px;
  transition: all 0.2s ease;
  border: 1px solid var(--chatio-border);
}

.chatio-history-action:hover {
  background: var(--chatio-primary);
  color: white;
  border-color: var(--chatio-primary);
}

.chatio-history-save {
  background: var(--chatio-primary);
  color: white;
  border-color: var(--chatio-primary);
}

/* Welcome Cards */
.chatio-welcome-card {
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  padding: 12px 16px;
  color: var(--chatio-text-primary);
  cursor: pointer;
  transition: all 0.2s ease;
}

.chatio-welcome-card:hover {
  background: var(--chatio-hover);
  border-color: var(--chatio-primary);
  transform: translateY(-1px);
}

/* ======================
   SETTINGS NOTICE - ONE LINE WITH WARNING YELLOW STYLE
   ====================== */
.chatio-settings-notice {
  background: rgba(251, 191, 36, 0.1); /* Yellow background with 10% opacity */
  border: 1px solid rgba(251, 191, 36, 0.3);
  border-left: 4px solid #f59e0b; /* Warning yellow left border */
  border-radius: 8px;
  margin-bottom: 32px;
  overflow: hidden;
  box-shadow: var(--chatio-shadow-sm);
  padding: 16px 20px; /* Single padding for one-line content */
  display: flex;
  align-items: center;
  gap: 12px;
}

.chatio-notice-icon {
  color: #f59e0b; /* Warning yellow */
  font-size: 18px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(251, 191, 36, 0.2);
  border-radius: 50%;
  flex-shrink: 0;
}

.chatio-notice-text {
  color: var(--chatio-text-primary);
  font-size: 14px;
  line-height: 1.5;
  margin: 0;
}

.chatio-notice-text strong {
  color: #f59e0b; /* Warning yellow for emphasis */
  font-weight: 600;
}

/* Dark mode adjustments for warning notice */
[data-mode="dark"] .chatio-settings-notice {
  background: rgba(251, 191, 36, 0.15); /* Slightly more visible in dark mode */
  border-color: rgba(251, 191, 36, 0.4);
  border-left-color: #f59e0b;
}

[data-mode="dark"] .chatio-notice-icon {
  background: rgba(251, 191, 36, 0.3);
  color: #fbbf24; /* Brighter yellow for dark mode */
}

[data-mode="dark"] .chatio-notice-text strong {
  color: #fbbf24; /* Brighter yellow for emphasis in dark mode */
}

/* Remove old notice header and content styles */
.chatio-notice-header {
  display: none;
}

.chatio-notice-content {
  display: none;
}

/* Drag and Drop Overlay */
.chatio-drop-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(165, 61, 60, 0.1);
  border: 2px dashed var(--chatio-primary);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
  animation: dropOverlayPulse 1s ease-in-out infinite alternate;
}

@keyframes dropOverlayPulse {
  from {
    background: rgba(165, 61, 60, 0.1);
    border-color: rgba(165, 61, 60, 0.5);
  }
  to {
    background: rgba(165, 61, 60, 0.2);
    border-color: var(--chatio-primary);
  }
}

/* Bot header for assistant messages */
.chatio-bot-header {
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
}

.chatio-bot-name {
  background: var(--chatio-primary); /* FIXED: Solid background for better contrast */
  color: white; /* FIXED: White text for maximum contrast */
  padding: 4px 10px; /* FIXED: More padding for better readability */
  border-radius: 12px;
  font-weight: 600;
  font-size: 12px; /* FIXED: Larger font size */
  border: none; /* FIXED: Remove border */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* FIXED: Add subtle shadow */
}

.chatio-bot-status {
  background: var(--chatio-surface); /* FIXED: Solid background */
  color: var(--chatio-text-primary); /* FIXED: Primary text color for contrast */
  padding: 4px 10px; /* FIXED: More padding */
  border-radius: 12px;
  font-weight: 500;
  font-size: 11px; /* FIXED: Slightly larger */
  border: 1px solid var(--chatio-border); /* FIXED: Solid border */
  animation: statusPulse 2s ease-in-out infinite;
}

@keyframes statusPulse {
  0%, 100% {
    opacity: 0.8;
  }
  50% {
    opacity: 1;
    transform: scale(1.02);
  }
}

/* Modern Message Bubbles - ENHANCED LIGHT MODE CONTRAST */

/* Safe text formatting classes - prevent XSS while maintaining readability */
.chatio-paragraph {
  margin: 8px 0;
  color: var(--chatio-text-primary);
  line-height: 1.6;
  font-size: 15px;
  /* NO margins */
}

.chatio-bold {
  font-weight: 600;
  color: var(--chatio-text-primary);
}

.chatio-list-item {
  color: var(--chatio-text-primary);
  font-size: 15px;
  line-height: 1.6;
  /* NO margins */
}

.chatio-inline-code {
  background: rgba(var(--chatio-border-rgb), 0.15);
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace;
  color: var(--chatio-primary);
  font-size: 0.9em;
  font-weight: 500;
}

/* ======================
   TEXT FORMATTING - BROWSER DEFAULTS ONLY
   ====================== */

/* Paragraphs - browser defaults only */
.chatio-p {
  color: var(--chatio-text-primary);
  padding: 0 1rem; /* Only keep left/right padding for indentation */
}

/* Headers - browser defaults only */
.chatio-h1 {
  font-size: 1.6em;
  font-weight: 700;
  color: var(--chatio-text-primary);
  padding: 0 1rem; /* Only keep left/right padding for indentation */
}

.chatio-h2 {
  font-size: 1.4em;
  font-weight: 600;
  color: var(--chatio-text-primary);
  padding: 0 1rem; /* Only keep left/right padding for indentation */
}

.chatio-h3 {
  font-size: 1.2em;
  font-weight: 600;
  color: var(--chatio-text-primary);
  padding: 0 1rem; /* Only keep left/right padding for indentation */
}

/* Text formatting - basic styles */
.chatio-strong {
  font-weight: 700;
  color: var(--chatio-text-primary);
}

.chatio-em {
  font-style: italic;
  color: var(--chatio-text-primary);
}

/* Links - modern styling */
.chatio-link {
  color: var(--chatio-accent); /* Accent color for links */
  text-decoration: underline;
  text-decoration-color: rgba(219, 168, 95, 0.5);
  transition: all 0.2s ease;
}

.chatio-link:hover {
  color: #c9965a; /* Darker accent on hover */
  text-decoration-color: var(--chatio-accent);
}

/* Lists - browser defaults only */
.chatio-ul, .chatio-ol {
  color: var(--chatio-text-primary);
  padding-left: 2rem; /* Only keep indentation */
}

.chatio-li, .chatio-li-num {
  color: var(--chatio-text-primary);
}

.chatio-ul .chatio-li {
  list-style-type: disc;
  display: list-item;
}

.chatio-ol .chatio-li-num {
  list-style-type: decimal;
  display: list-item;
}

/* Proper nested lists with different indentation */
.chatio-ul .chatio-ul, .chatio-ol .chatio-ol, .chatio-ul .chatio-ol, .chatio-ol .chatio-ul {
  padding-left: 1.5rem; /* Only keep nested indentation */
}

.chatio-ul .chatio-ul .chatio-li {
  list-style-type: circle; /* Different bullet for nested */
}

.chatio-ul .chatio-ul .chatio-ul .chatio-li {
  list-style-type: square; /* Third level bullet */
}

/* Blockquotes - minimal styling */
.chatio-blockquote {
  margin: 0.8em 0;
  padding: 0.6em 1em;
  background: rgba(var(--chatio-border-rgb), 0.1);
  border-left: 3px solid var(--chatio-accent); /* Accent color for border */
  border-radius: 0 4px 4px 0;
  color: var(--chatio-text-secondary);
  font-style: italic;
  line-height: 1.5;
}

/* Fixed Google logo SVG */
.chatio-google-icon {
  display: inline-block;
  width: 20px;
  height: 20px;
  mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='50px' height='50px'%3E%3Cpath d='M 25.996094 48 C 13.3125 48 2.992188 37.683594 2.992188 25 C 2.992188 12.316406 13.3125 2 25.996094 2 C 31.742188 2 37.242188 4.128906 41.488281 7.996094 L 42.261719 8.703125 L 34.675781 16.289063 L 33.972656 15.6875 C 31.746094 13.78125 28.914063 12.730469 25.996094 12.730469 C 19.230469 12.730469 13.722656 18.234375 13.722656 25 C 13.722656 31.765625 19.230469 37.269531 25.996094 37.269531 C 30.875 37.269531 34.730469 34.777344 36.546875 30.53125 L 24.996094 30.53125 L 24.996094 20.175781 L 47.546875 20.207031 L 47.714844 21 C 48.890625 26.582031 47.949219 34.792969 43.183594 40.667969 C 39.238281 45.53125 33.457031 48 25.996094 48 Z'/%3E%3C/svg%3E") no-repeat center;
  mask-size: contain;
  background-color: currentColor;
}

/* FIXED: OpenAI icon with CORRECT user-provided SVG */
.chatio-openai-icon {
  display: inline-block;
  width: 20px;
  height: 20px;
  mask: url("data:image/svg+xml,%3Csvg height='2500' viewBox='-1 -.1 949.1 959.8' width='2474' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m925.8 456.3c10.4 23.2 17 48 19.7 73.3 2.6 25.3 1.3 50.9-4.1 75.8-5.3 24.9-14.5 48.8-27.3 70.8-8.4 14.7-18.3 28.5-29.7 41.2-11.3 12.6-23.9 24-37.6 34-13.8 10-28.5 18.4-44.1 25.3-15.5 6.8-31.7 12-48.3 15.4-7.8 24.2-19.4 47.1-34.4 67.7-14.9 20.6-33 38.7-53.6 53.6-20.6 15-43.4 26.6-67.6 34.4-24.2 7.9-49.5 11.8-75 11.8-16.9.1-33.9-1.7-50.5-5.1-16.5-3.5-32.7-8.8-48.2-15.7s-30.2-15.5-43.9-25.5c-13.6-10-26.2-21.5-37.4-34.2-25 5.4-50.6 6.7-75.9 4.1-25.3-2.7-50.1-9.3-73.4-19.7-23.2-10.3-44.7-24.3-63.6-41.4s-35-37.1-47.7-59.1c-8.5-14.7-15.5-30.2-20.8-46.3s-8.8-32.7-10.6-49.6c-1.8-16.8-1.7-33.8.1-50.7 1.8-16.8 5.5-33.4 10.8-49.5-17-18.9-31-40.4-41.4-63.6-10.3-23.3-17-48-19.6-73.3-2.7-25.3-1.3-50.9 4-75.8s14.5-48.8 27.3-70.8c8.4-14.7 18.3-28.6 29.6-41.2s24-24 37.7-34 28.5-18.5 44-25.3c15.6-6.9 31.8-12 48.4-15.4 7.8-24.3 19.4-47.1 34.3-67.7 15-20.6 33.1-38.7 53.7-53.7 20.6-14.9 43.4-26.5 67.6-34.4 24.2-7.8 49.5-11.8 75-11.7 16.9-.1 33.9 1.6 50.5 5.1s32.8 8.7 48.3 15.6c15.5 7 30.2 15.5 43.9 25.5 13.7 10.1 26.3 21.5 37.5 34.2 24.9-5.3 50.5-6.6 75.8-4s50 9.3 73.3 19.6c23.2 10.4 44.7 24.3 63.6 41.4 18.9 17 35 36.9 47.7 59 8.5 14.6 15.5 30.1 20.8 46.3 5.3 16.1 8.9 32.7 10.6 49.6 1.8 16.9 1.8 33.9-.1 50.8-1.8 16.9-5.5 33.5-10.8 49.6 17.1 18.9 31 40.3 41.4 63.6zm-333.2 426.9c21.8-9 41.6-22.3 58.3-39s30-36.5 39-58.4c9-21.8 13.7-45.2 13.7-68.8v-223q-.1-.3-.2-.7-.1-.3-.3-.6-.2-.3-.5-.5-.3-.3-.6-.4l-80.7-46.6v269.4c0 2.7-.4 5.5-1.1 8.1-.7 2.7-1.7 5.2-3.1 7.6s-3 4.6-5 6.5a32.1 32.1 0 0 1 -6.5 5l-191.1 110.3c-1.6 1-4.3 2.4-5.7 3.2 7.9 6.7 16.5 12.6 25.5 17.8 9.1 5.2 18.5 9.6 28.3 13.2 9.8 3.5 19.9 6.2 30.1 8 10.3 1.8 20.7 2.7 31.1 2.7 23.6 0 47-4.7 68.8-13.8zm-455.1-151.4c11.9 20.5 27.6 38.3 46.3 52.7 18.8 14.4 40.1 24.9 62.9 31s46.6 7.7 70 4.6 45.9-10.7 66.4-22.5l193.2-111.5.5-.5q.2-.2.3-.6.2-.3.3-.6v-94l-233.2 134.9c-2.4 1.4-4.9 2.4-7.5 3.2-2.7.7-5.4 1-8.2 1-2.7 0-5.4-.3-8.1-1-2.6-.8-5.2-1.8-7.6-3.2l-191.1-110.4c-1.7-1-4.2-2.5-5.6-3.4-1.8 10.3-2.7 20.7-2.7 31.1s1 20.8 2.8 31.1c1.8 10.2 4.6 20.3 8.1 30.1 3.6 9.8 8 19.2 13.2 28.2zm-50.2-417c-11.8 20.5-19.4 43.1-22.5 66.5s-1.5 47.1 4.6 70c6.1 22.8 16.6 44.1 31 62.9 14.4 18.7 32.3 34.4 52.7 46.2l193.1 111.6q.3.1.7.2h.7q.4 0 .7-.2.3-.1.6-.3l81-46.8-233.2-134.6c-2.3-1.4-4.5-3.1-6.5-5a32.1 32.1 0 0 1 -5-6.5c-1.3-2.4-2.4-4.9-3.1-7.6-.7-2.6-1.1-5.3-1-8.1v-227.1c-9.8 3.6-19.3 8-28.3 13.2-9 5.3-17.5 11.3-25.5 18-7.9 6.7-15.3 14.1-22 22.1-6.7 7.9-12.6 16.5-17.8 25.5zm663.3 154.4c2.4 1.4 4.6 3 6.6 5 1.9 1.9 3.6 4.1 5 6.5 1.3 2.4 2.4 5 3.1 7.6.6 2.7 1 5.4.9 8.2v227.1c32.1-11.8 60.1-32.5 80.8-59.7 20.8-27.2 33.3-59.7 36.2-93.7s-3.9-68.2-19.7-98.5-39.9-55.5-69.5-72.5l-193.1-111.6q-.3-.1-.7-.2h-.7q-.3.1-.7.2-.3.1-.6.3l-80.6 46.6 233.2 134.7zm80.5-121h-.1v.1zm-.1-.1c5.8-33.6 1.9-68.2-11.3-99.7-13.1-31.5-35-58.6-63-78.2-28-19.5-61-30.7-95.1-32.2-34.2-1.4-68 6.9-97.6 23.9l-193.1 111.5q-.3.2-.5.5l-.4.6q-.1.3-.2.7-.1.3-.1.7v93.2l233.2-134.7c2.4-1.4 5-2.4 7.6-3.2 2.7-.7 5.4-1 8.1-1 2.8 0 5.5.3 8.2 1 2.6.8 5.1 1.8 7.5 3.2l191.1 110.4c1.7 1 4.2 2.4 5.6 3.3zm-505.3-103.2c0-2.7.4-5.4 1.1-8.1.7-2.6 1.7-5.2 3.1-7.6 1.4-2.3 3-4.5 5-6.5 1.9-1.9 4.1-3.6 6.5-4.9l191.1-110.3c1.8-1.1 4.3-2.5 5.7-3.2-26.2-21.9-58.2-35.9-92.1-40.2-33.9-4.4-68.3 1-99.2 15.5-31 14.5-57.2 37.6-75.5 66.4-18.3 28.9-28 62.3-28 96.5v223q.1.4.2.7.1.3.3.6.2.3.5.6.2.2.6.4l80.7 46.6zm43.8 294.7 103.9 60 103.9-60v-119.9l-103.8-60-103.9 60z'/%3E%3C/svg%3E") no-repeat center;
  mask-size: contain;
  background-color: currentColor;
}

/* Anthropic Claude icon - using user-provided SVG */
.chatio-anthropic-icon {
  display: inline-block;
  width: 20px;
  height: 20px;
  mask: url("data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 92.2 65' style='enable-background:new 0 0 92.2 65;' xml:space='preserve'%3E%3Cpath class='st0' d='M66.5,0H52.4l25.7,65h14.1L66.5,0z M25.7,0L0,65h14.4l5.3-13.6h26.9L51.8,65h14.4L40.5,0C40.5,0,25.7,0,25.7,0z M24.3,39.3l8.8-22.8l8.8,22.8H24.3z'%3E%3C/path%3E%3C/svg%3E") no-repeat center;
  mask-size: contain;
  background-color: currentColor;
}

/* FIXED: DeepSeek icon with CORRECT user-provided SVG */
.chatio-deepseek-icon {
  width: 20px;
  height: 20px;
  display: inline-block;
  mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' width='48px' height='48px' baseProfile='basic'%3E%3Cpath d='M47.496,10.074c-0.508-0.249-0.727,0.226-1.025,0.467c-0.102,0.078-0.188,0.179-0.274,0.272 c-0.743,0.794-1.611,1.315-2.746,1.253c-1.658-0.093-3.074,0.428-4.326,1.696c-0.266-1.564-1.15-2.498-2.495-3.097 c-0.704-0.311-1.416-0.623-1.909-1.3c-0.344-0.482-0.438-1.019-0.61-1.548c-0.11-0.319-0.219-0.646-0.587-0.7 c-0.399-0.062-0.555,0.272-0.712,0.553c-0.626,1.144-0.868,2.405-0.845,3.681c0.055,2.871,1.267,5.159,3.676,6.785 c0.274,0.187,0.344,0.373,0.258,0.646c-0.164,0.56-0.36,1.105-0.532,1.665c-0.11,0.358-0.274,0.436-0.657,0.28 c-1.322-0.552-2.464-1.369-3.473-2.358c-1.713-1.657-3.262-3.486-5.194-4.918c-0.454-0.335-0.907-0.646-1.377-0.942 c-1.971-1.914,0.258-3.486,0.774-3.673c0.54-0.195,0.188-0.864-1.557-0.856c-1.744,0.008-3.34,0.591-5.374,1.369 c-0.297,0.117-0.61,0.202-0.931,0.272c-1.846-0.35-3.763-0.428-5.765-0.202c-3.77,0.42-6.782,2.202-8.996,5.245 c-2.66,3.657-3.285,7.812-2.519,12.147c0.806,4.568,3.137,8.349,6.719,11.306c3.716,3.066,7.994,4.568,12.876,4.28 c2.965-0.171,6.266-0.568,9.989-3.719c0.939,0.467,1.924,0.654,3.559,0.794c1.259,0.117,2.472-0.062,3.411-0.257 c1.471-0.311,1.369-1.673,0.837-1.922C34,36,33.471,35.441,33.471,35.441c2.19-2.591,5.491-5.284,6.782-14.007 c0.102-0.692,0.016-1.128,0-1.689c-0.008-0.342,0.07-0.475,0.462-0.514c1.079-0.125,2.128-0.42,3.09-0.949 c2.793-1.525,3.919-4.031,4.185-7.034C48.028,10.79,47.981,10.315,47.496,10.074z M32.83,26.18c-0.28-0.77-0.66-1.4-1-1.91l-0.14-0.2c-0.35-0.55-0.57-0.88-1.33-1.75l-0.1-0.11 c-0.78-0.76-1.4-1.36-2.27-1.71c-0.6-0.24-1.14-0.36-1.66-0.36c-0.56,0-1.06,0.14-1.6,0.46c-0.06,0.04-0.51,0.42-0.67,0.76 c-0.2,0.38-0.24,0.79-0.11,1.18c0.1,0.29,0.28,0.55,0.52,0.73c-0.19,0.27-0.31,0.61-0.31,0.96c0,0.9,0.71,1.61,1.61,1.61 c0.26,0,0.5-0.06,0.72-0.16c0.01,0.08,0.02,0.16,0.03,0.24c0.22,1.07,0.8,1.54,1.3,1.96L27.96,28c0.55,0.46,1.37,0.74,2.14,0.74 h0.14c0.55-0.03,1.06-0.21,1.53-0.4C32.71,27.94,33.13,27.08,32.83,26.18z M29.79,37.48c-0.47-0.29-0.99-0.7-1.66-1.26 c-2.01-1.7-3.54-3.8-4.77-5.62L22.95,30c-1.22-1.83-2.49-3.72-4.12-5.34c-3.26-3.23-7.12-5.19-11.5-5.83 c-0.45-0.06-0.93-0.1-1.41-0.1c-0.65,0-1.31,0.07-1.97,0.19c-1.28,0.23-1.84,0.93-1.77,2.21c0.15,3.27,1.06,6.43,2.72,9.4 c1.6,2.89,3.88,5.18,7.03,7.03c0.06,0.03,1.51,0.75,2.99,0.75c0.69,0,1.28-0.16,1.77-0.46c0.59-0.36,0.8-0.83,0.87-1.15 c0.1-0.49-0.01-0.99-0.33-1.45c-0.32-0.5-0.49-0.79-0.62-1.22c-0.01-0.05-0.03-0.1-0.04-0.14c0.67,0.25,2.28,1.1,5.97,4 c1.29,1.02,3.04,1.53,5.2,1.53c0.42,0,0.86-0.02,1.29-0.06c0.29-0.21,0.57-0.44,0.86-0.68c0.08,0.04,0.17,0.08,0.26,0.12 c0.05-0.08,0.08-0.16,0.1-0.25C30.34,38.14,30.16,37.71,29.79,37.48z M27.742,38.924c-2.05,0-3.695-0.479-4.892-1.425c-4.662-3.665-6.184-4.212-6.677-4.212l-0.117,0.021 c-0.028,0.026-0.103,0.263,0.074,0.865c0.152,0.485,0.342,0.822,0.683,1.347c0.241,0.354,0.332,0.727,0.257,1.073 c-0.049,0.231-0.201,0.563-0.642,0.832c-0.408,0.253-0.916,0.382-1.507,0.382c-1.364,0-2.758-0.688-2.771-0.695 c-3.043-1.791-5.263-4.016-6.815-6.819c-1.615-2.905-2.511-5.995-2.659-9.183c-0.052-1.019,0.343-1.512,1.363-1.698 c0.633-0.117,1.267-0.176,1.885-0.176c0.454,0,0.903,0.032,1.336,0.096c4.267,0.623,8.04,2.537,11.216,5.688 c1.599,1.583,2.852,3.451,4.062,5.257l0.404,0.601c1.254,1.857,2.813,3.991,4.867,5.726c0.69,0.58,1.22,1.001,1.723,1.31 c0.182,0.112,0.272,0.327,0.227,0.535c-0.047,0.208-0.221,0.364-0.433,0.388C28.785,38.894,28.252,38.924,27.742,38.924z M30.096,28.241c-0.647,0-1.358-0.246-1.812-0.626l-0.141-0.117c-0.486-0.402-0.945-0.781-1.131-1.683 c-0.092-0.45-0.031-1.069,0.032-1.376c0.099-0.461,0.024-0.696-0.307-0.969c-0.109-0.091-0.238-0.158-0.395-0.204 c0.095,0.054,0.178,0.121,0.249,0.201c0.183,0.181,0.299,0.466,0.299,0.762c0,0.615-0.501,1.115-1.117,1.115 c-0.623,0-1.11-0.49-1.11-1.115c0-0.499,0.329-0.921,0.782-1.063c-0.198-0.039-0.37-0.118-0.507-0.19 c-0.239-0.118-0.431-0.336-0.515-0.592c-0.086-0.258-0.06-0.533,0.075-0.795c0.107-0.215,0.452-0.535,0.528-0.592 c0.425-0.247,0.844-0.354,1.298-0.354c0.457,0,0.94,0.105,1.479,0.32c0.78,0.318,1.337,0.862,2.108,1.613 c0.01,0.01,0.077,0.077,0.087,0.087c0.722,0.833,0.919,1.135,1.277,1.682l0.131,0.199c0.325,0.488,0.692,1.086,0.945,1.806 c0.223,0.647-0.075,1.232-0.777,1.529c-0.429,0.176-0.885,0.339-1.355,0.358L30.096,28.241z M25.164,24.228c0-0.342,0.274-0.615,0.618-0.615c0.078,0,0.149,0.015,0.211,0.039 c0.086,0.031,0.164,0.078,0.227,0.148c0.11,0.109,0.172,0.265,0.172,0.428c0,0.342-0.274,0.615-0.618,0.615 S25.164,24.571,25.164,24.228L25.164,24.228z M31.382,27.419c-0.399,0.163-0.798,0.303-1.181,0.319 c-0.595,0.031-1.244-0.21-1.596-0.506c-0.548-0.459-0.939-0.716-1.103-1.517c-0.07-0.342-0.031-0.872,0.031-1.175 c0.141-0.654-0.016-1.074-0.477-1.455c-0.376-0.311-0.853-0.397-1.377-0.397c-0.196,0-0.375-0.086-0.508-0.156 c-0.219-0.109-0.399-0.381-0.227-0.716c0.055-0.109,0.321-0.373,0.383-0.42c0.712-0.405,1.533-0.272,2.292,0.031 c0.704,0.288,1.236,0.817,2.003,1.564c0.782,0.903,0.923,1.152,1.369,1.829c0.352,0.529,0.673,1.074,0.892,1.696 C32.016,26.905,31.844,27.224,31.382,27.419L31.382,27.419z'/%3E%3C/svg%3E") no-repeat center;
  mask-size: contain;
  background-color: currentColor;
}

/* Auto-save status indicator */
.chatio-autosave-status {
  display: flex;
  align-items: center;
  padding: 6px 10px;
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 6px;
  font-size: 12px;
  color: var(--chatio-text-secondary);
  cursor: help;
  transition: all 0.2s ease;
}

.chatio-autosave-status:hover {
  background: var(--chatio-hover);
  border-color: var(--chatio-primary);
}

.chatio-autosave-status i {
  font-size: 11px;
}

.chatio-autosave-status span {
  font-weight: 500;
  margin-left: 4px;
}

/* Auto-save status warning state when disabled */
.chatio-autosave-status.warning {
  background: #fef3c7 !important;
  border-color: #f59e0b !important;
  color: #92400e !important;
  animation: warningPulse 3s infinite;
  box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.1);
}

[data-mode="dark"] .chatio-autosave-status.warning {
  background: #451a03 !important;
  border-color: #f59e0b !important;
  color: #fbbf24 !important;
}

.chatio-autosave-status.warning:hover {
  background: #fde68a !important;
  border-color: #d97706 !important;
  animation: none;
  transform: scale(1.02);
}

[data-mode="dark"] .chatio-autosave-status.warning:hover {
  background: #78350f !important;
  border-color: #d97706 !important;
}

.chatio-autosave-status.warning .fa-exclamation-triangle {
  animation: warningBounce 2s infinite;
}

@keyframes warningPulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes warningBounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-2px);
  }
  60% {
    transform: translateY(-1px);
  }
}

/* Data Management Warning Card */
.chatio-data-warning-card {
  margin-top: 1rem;
  background: var(--chatio-surface);
  border: 1px solid var(--chatio-border);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: var(--chatio-shadow-sm);
  transition: all 0.2s ease;
}

.chatio-data-warning-card:hover {
  border-color: var(--chatio-primary);
  box-shadow: var(--chatio-shadow-md);
}

.chatio-warning-header {
  background: linear-gradient(135deg, var(--chatio-primary), var(--chatio-accent));
  color: white;
  padding: 16px 20px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.chatio-warning-icon {
  font-size: 20px;
  opacity: 0.9;
}

.chatio-warning-title {
  font-size: 16px;
  font-weight: 600;
  margin: 0;
  letter-spacing: 0.025em;
}

.chatio-warning-content {
  padding: 20px;
}

.chatio-warning-option {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  padding: 16px 0;
  border-bottom: 1px solid var(--chatio-border);
}

.chatio-warning-option:last-of-type {
  border-bottom: none;
  margin-bottom: 16px;
}

.chatio-warning-option-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  flex-shrink: 0;
  transition: all 0.2s ease;
}

.chatio-warning-option-icon.delete-chats {
  background: rgba(249, 115, 22, 0.1);
  color: #f97316;
  border: 1px solid rgba(249, 115, 22, 0.2);
}

.chatio-warning-option-icon.clear-all {
  background: rgba(220, 38, 38, 0.1);
  color: #dc2626;
  border: 1px solid rgba(220, 38, 38, 0.2);
}

.chatio-warning-option-content {
  flex: 1;
}

.chatio-warning-option-content strong {
  color: var(--chatio-text-primary);
  font-size: 15px;
  font-weight: 600;
  display: block;
  margin-bottom: 4px;
}

.chatio-warning-option-content p {
  color: var(--chatio-text-secondary);
  font-size: 14px;
  line-height: 1.5;
  margin: 0;
}

.chatio-warning-footer {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 16px 20px;
  background: rgba(var(--chatio-primary-rgb), 0.05);
  border-top: 1px solid var(--chatio-border);
  font-size: 14px;
  color: var(--chatio-text-secondary);
  font-style: italic;
}

.chatio-warning-footer i {
  color: var(--chatio-primary);
  font-size: 16px;
}

/* Dark mode adjustments */
[data-mode="dark"] .chatio-data-warning-card {
  background: var(--chatio-surface);
  border-color: var(--chatio-border);
}

[data-mode="dark"] .chatio-warning-option-icon.delete-chats {
  background: rgba(249, 115, 22, 0.15);
  color: #fb923c;
}

[data-mode="dark"] .chatio-warning-option-icon.clear-all {
  background: rgba(220, 38, 38, 0.15);
  color: #f87171;
}

[data-mode="dark"] .chatio-warning-footer {
  background: rgba(var(--chatio-primary-rgb), 0.08);
}

/* Simple warning message */
.chatio-simple-warning {
  margin-top: 1rem;
  padding: 12px 16px;
  background: rgba(var(--chatio-primary-rgb), 0.05);
  border: 1px solid rgba(var(--chatio-primary-rgb), 0.2);
  border-radius: 6px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: var(--chatio-text-secondary);
}

.chatio-simple-warning i {
  color: var(--chatio-primary);
  font-size: 16px;
}

[data-mode="dark"] .chatio-simple-warning {
  background: rgba(var(--chatio-primary-rgb), 0.08);
  border-color: rgba(var(--chatio-primary-rgb), 0.3);
}

/* Links - modern styling */
.chatio-link {
  color: var(--chatio-accent); /* Accent color for links */
  text-decoration: underline;
  text-decoration-color: rgba(219, 168, 95, 0.5);
  transition: all 0.2s ease;
}

.chatio-link:hover {
  color: #c9965a; /* Darker accent on hover */
  text-decoration-color: var(--chatio-accent);
}

/* ======================
   MODERN MARKDOWN RENDERER STYLES - BEAUTIFUL & PROFESSIONAL
   ====================== */

/* Container for markdown content */
.chatio-markdown {
  color: var(--chatio-text-primary);
  line-height: 1.6;
  font-size: 15px;
  padding: 0.5rem 1rem;
}

/* Typography */
.chatio-markdown h1 {
  font-size: 1.75em;
  font-weight: 700;
  color: var(--chatio-text-primary);
  margin: 1.5em 0 0.75em 0;
  padding-bottom: 0.3em;
  border-bottom: 2px solid var(--chatio-border);
  line-height: 1.2;
}

.chatio-markdown h1:first-child {
  margin-top: 0;
}

.chatio-markdown h2 {
  font-size: 1.5em;
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 1.25em 0 0.6em 0;
  padding-bottom: 0.2em;
  border-bottom: 1px solid var(--chatio-border);
  line-height: 1.3;
}

.chatio-markdown h3 {
  font-size: 1.25em;
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 1em 0 0.5em 0;
  line-height: 1.3;
}

.chatio-markdown h4 {
  font-size: 1.1em;
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 0.8em 0 0.4em 0;
  line-height: 1.3;
}

.chatio-markdown h5 {
  font-size: 1em;
  font-weight: 600;
  color: var(--chatio-text-primary);
  margin: 0.6em 0 0.3em 0;
  line-height: 1.3;
}

.chatio-markdown h6 {
  font-size: 0.9em;
  font-weight: 600;
  color: var(--chatio-text-secondary);
  margin: 0.6em 0 0.3em 0;
  line-height: 1.3;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.chatio-markdown p {
  margin: 1em 0;
  line-height: 1.6;
}

.chatio-markdown p:first-child {
  margin-top: 0;
}

.chatio-markdown p:last-child {
  margin-bottom: 0;
}

/* Text formatting */
.chatio-markdown strong,
.chatio-markdown b {
  font-weight: 600;
  color: var(--chatio-text-primary);
}

.chatio-markdown em,
.chatio-markdown i {
  font-style: italic;
  color: var(--chatio-text-primary);
}

/* Code styling */
.chatio-markdown code {
  background: var(--chatio-code-bg, #f6f8fa);
  border: 1px solid var(--chatio-border);
  border-radius: 4px;
  padding: 0.2em 0.4em;
  font-family: 'SF Mono', Monaco, Inconsolata, 'Roboto Mono', Consolas, 'Courier New', monospace;
  font-size: 0.9em;
  color: var(--chatio-code-text, #d73a49);
}

[data-mode="dark"] .chatio-markdown code {
  background: var(--chatio-code-bg, #2d3748);
  color: var(--chatio-code-text, #ff7979);
  border-color: #4a5568;
}

.chatio-markdown pre {
  background: var(--chatio-code-bg, #f6f8fa);
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  padding: 1em;
  margin: 1.5em 0;
  overflow-x: auto;
  line-height: 1.4;
  font-family: 'SF Mono', Monaco, Inconsolata, 'Roboto Mono', Consolas, 'Courier New', monospace;
  font-size: 0.9em;
}

[data-mode="dark"] .chatio-markdown pre {
  background: var(--chatio-code-bg, #1a1a1a);
  border-color: #333;
}

.chatio-markdown pre code {
  background: transparent;
  border: none;
  padding: 0;
  font-size: inherit;
  color: inherit;
}

/* Lists */
.chatio-markdown ul,
.chatio-markdown ol {
  margin: 1em 0;
  padding-left: 2em;
  color: var(--chatio-text-primary);
}

.chatio-markdown ul {
  list-style-type: disc;
}

.chatio-markdown ol {
  list-style-type: decimal;
}

.chatio-markdown li {
  margin: 0.5em 0;
  line-height: 1.6;
}

.chatio-markdown li > p {
  margin: 0.5em 0;
}

.chatio-markdown ul ul,
.chatio-markdown ol ol,
.chatio-markdown ul ol,
.chatio-markdown ol ul {
  margin: 0.5em 0;
  padding-left: 1.5em;
}

.chatio-markdown ul ul {
  list-style-type: circle;
}

.chatio-markdown ul ul ul {
  list-style-type: square;
}

/* Blockquotes */
.chatio-markdown blockquote {
  margin: 1.5em 0;
  padding: 1em 1.2em;
  background: rgba(var(--chatio-accent-rgb, 219, 168, 95), 0.08);
  border-left: 4px solid var(--chatio-accent);
  border-radius: 0 6px 6px 0;
  color: var(--chatio-text-secondary);
  font-style: italic;
  position: relative;
}

.chatio-markdown blockquote::before {
  content: '"';
  font-size: 3em;
  color: var(--chatio-accent);
  position: absolute;
  top: -0.2em;
  left: 0.3em;
  font-family: Georgia, serif;
  opacity: 0.3;
}

.chatio-markdown blockquote p {
  margin: 0.5em 0;
}

.chatio-markdown blockquote p:first-child {
  margin-top: 0;
}

.chatio-markdown blockquote p:last-child {
  margin-bottom: 0;
}

/* Links */
.chatio-markdown a {
  color: var(--chatio-accent);
  text-decoration: none;
  border-bottom: 1px solid rgba(var(--chatio-accent-rgb, 219, 168, 95), 0.3);
  transition: all 0.2s ease;
}

.chatio-markdown a:hover {
  color: #c9965a;
  border-bottom-color: var(--chatio-accent);
  background: rgba(var(--chatio-accent-rgb, 219, 168, 95), 0.1);
  padding: 0.1em 0.2em;
  margin: 0 -0.2em;
  border-radius: 3px;
}

/* Tables */
.chatio-markdown table {
  border-collapse: collapse;
  width: 100%;
  margin: 1.5em 0;
  background: var(--chatio-surface);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.chatio-markdown th,
.chatio-markdown td {
  padding: 0.75em 1em;
  text-align: left;
  border-bottom: 1px solid var(--chatio-border);
}

.chatio-markdown th {
  background: var(--chatio-surface-hover);
  font-weight: 600;
  color: var(--chatio-text-primary);
}

.chatio-markdown tr:hover {
  background: rgba(var(--chatio-accent-rgb, 219, 168, 95), 0.05);
}

.chatio-markdown tr:last-child td {
  border-bottom: none;
}

/* Horizontal rules */
.chatio-markdown hr {
  border: none;
  height: 2px;
  background: linear-gradient(to right, transparent, var(--chatio-border), transparent);
  margin: 2em 0;
}

/* Images */
.chatio-markdown img {
  max-width: 100%;
  height: auto;
  border-radius: 6px;
  margin: 1em 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Task lists */
.chatio-markdown .task-list-item {
  list-style: none;
  margin-left: -1.5em;
}

.chatio-markdown .task-list-item input[type="checkbox"] {
  margin-right: 0.5em;
  transform: scale(1.1);
}

/* Dark mode adjustments */
[data-mode="dark"] .chatio-markdown {
  color: var(--chatio-text-primary);
}

[data-mode="dark"] .chatio-markdown h1,
[data-mode="dark"] .chatio-markdown h2 {
  border-bottom-color: var(--chatio-border);
}

[data-mode="dark"] .chatio-markdown blockquote {
  background: rgba(var(--chatio-accent-rgb, 219, 168, 95), 0.1);
}

[data-mode="dark"] .chatio-markdown table {
  background: var(--chatio-surface);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

[data-mode="dark"] .chatio-markdown th {
  background: var(--chatio-surface-hover);
}

[data-mode="dark"] .chatio-markdown img {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-mode="dark"] code:not(.chatio-code-content code) {
  background: rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

/* ======================
   HIGHLIGHT.JS INTEGRATION - ENHANCED SYNTAX HIGHLIGHTING
   ====================== */

/* Override highlight.js styles to match our design system */
.chatio-markdown pre code.hljs {
  background: transparent !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
  border-radius: 0 !important;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace !important;
  font-size: 14px !important;
  line-height: 1.4 !important;
  display: block !important;
  overflow-x: auto !important;
}

/* Light mode highlight.js customizations */
.chatio-markdown .hljs {
  background: #f8fafc !important;
  color: #1a202c !important;
}

.chatio-markdown .hljs-comment,
.chatio-markdown .hljs-quote {
  color: #64748b !important;
  font-style: italic !important;
}

.chatio-markdown .hljs-keyword,
.chatio-markdown .hljs-selector-tag,
.chatio-markdown .hljs-subst {
  color: #dc2626 !important;
  font-weight: bold !important;
}

.chatio-markdown .hljs-string,
.chatio-markdown .hljs-attr {
  color: #059669 !important;
}

.chatio-markdown .hljs-number,
.chatio-markdown .hljs-literal,
.chatio-markdown .hljs-variable,
.chatio-markdown .hljs-template-variable {
  color: #2563eb !important;
}

.chatio-markdown .hljs-function,
.chatio-markdown .hljs-title {
  color: #7c3aed !important;
  font-weight: 600 !important;
}

/* Dark mode highlight.js customizations */
[data-mode="dark"] .chatio-markdown .hljs {
  background: #0a0a0a !important;
  color: #ffffff !important;
}

[data-mode="dark"] .chatio-markdown .hljs-comment,
[data-mode="dark"] .chatio-markdown .hljs-quote {
  color: #888888 !important;
  font-style: italic !important;
}

[data-mode="dark"] .chatio-markdown .hljs-keyword,
[data-mode="dark"] .chatio-markdown .hljs-selector-tag,
[data-mode="dark"] .chatio-markdown .hljs-subst {
  color: #ff6b6b !important;
  font-weight: bold !important;
}

[data-mode="dark"] .chatio-markdown .hljs-string,
[data-mode="dark"] .chatio-markdown .hljs-attr {
  color: #51cf66 !important;
}

[data-mode="dark"] .chatio-markdown .hljs-number,
[data-mode="dark"] .chatio-markdown .hljs-literal,
[data-mode="dark"] .chatio-markdown .hljs-variable,
[data-mode="dark"] .chatio-markdown .hljs-template-variable {
  color: #74c0fc !important;
}

[data-mode="dark"] .chatio-markdown .hljs-function,
[data-mode="dark"] .chatio-markdown .hljs-title {
  color: #d0bfff !important;
  font-weight: 600 !important;
}

[data-mode="dark"] .chatio-markdown .hljs-built_in,
[data-mode="dark"] .chatio-markdown .hljs-type {
  color: #ffa94d !important;
}

/* Inline code highlighting */
.chatio-markdown code.hljs-inline {
  background: rgba(var(--chatio-border-rgb), 0.15) !important;
  padding: 0.2em 0.4em !important;
  border-radius: 3px !important;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace !important;
  color: var(--chatio-primary) !important;
  font-size: 0.9em !important;
  font-weight: 500 !important;
}

[data-mode="dark"] .chatio-markdown code.hljs-inline {
  background: rgba(255, 255, 255, 0.1) !important;
  color: #ffffff !important;
}

/* ======================
   END HIGHLIGHT.JS INTEGRATION
   ====================== */

[data-mode="dark"] .chatio-code-block {
  background: #1a1a1a;
  border-color: #333333;
}

[data-mode="dark"] .chatio-code-content {
  background: #1a1a1a;
}

[data-mode="dark"] .chatio-code-header {
  background: #1a1a1a; /* Black/grey instead of dark blue */
  border-bottom-color: #333333;
}

[data-mode="dark"] .chatio-code-copy {
  background: #dc2626;
}

[data-mode="dark"] .chatio-code-copy:hover {
  background: #b91c1c;
}

/* Update code styling for dark mode */
[data-mode="dark"] .chatio-markdown pre code,
[data-mode="dark"] .chatio-code-block code {
  background: transparent !important; /* Transparent background for code */
  color: #c9d1d9 !important; /* Light text color */
}

/* Light mode code styling */
.chatio-markdown pre code,
.chatio-code-block code {
  background: transparent !important; /* Transparent background for code */
  color: #24292f !important; /* Dark text color */
  white-space: pre !important; /* Preserve formatting */
  line-height: 1.5 !important;
  font-family: 'Consolas', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
  padding: 2rem !important; /* Increased internal padding */
}

/* Message content should be selectable */
.chatio-message-content,
.chatio-markdown,
.chatio-markdown *,
.chatio-code-block code,
.chatio-message-bubble {
  user-select: text !important;
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
}

/* But keep buttons non-selectable */
.chatio-code-copy,
.chatio-history-action,
.chatio-btn,
button {
  user-select: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
}

/* Improved edit mode file previews */
.chatio-edit-file-preview {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 12px;
  padding: 8px;
  background: var(--chatio-surface-2);
  border: 1px solid var(--chatio-border);
  border-radius: 8px;
  max-height: 200px;
  overflow-y: auto;
}

.chatio-edit-file-item {
  position: relative;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  background: var(--chatio-surface-0);
  border: 1px solid var(--chatio-border);
  border-radius: 6px;
  min-width: 0;
}

.chatio-edit-file-content {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 0;
}

.chatio-edit-image-thumbnail {
  width: 32px;
  height: 32px;
  object-fit: cover;
  border-radius: 4px;
  border: 1px solid var(--chatio-border);
  flex-shrink: 0;
}

.chatio-edit-file-icon {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--chatio-surface-2);
  border: 1px solid var(--chatio-border);
  border-radius: 4px;
  color: var(--chatio-text-secondary);
  flex-shrink: 0;
}

.chatio-edit-file-name {
  font-size: 12px;
  color: var(--chatio-text-primary);
  font-weight: 500;
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.chatio-edit-file-remove {
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #ef4444;
  color: white;
  border: 2px solid white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  z-index: 10;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: all 0.2s ease;
}

.chatio-edit-file-remove:hover {
  background: #dc2626;
  transform: scale(1.1);
}

.chatio-edit-file-remove i {
  font-size: 8px;
}

.chatio-edit-actions {
  display: flex;
  gap: 8px;
  margin-top: 12px;
  justify-content: flex-start;
}

/* Enhanced Image Modal with Fixed Layout */
.chatio-image-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
}

.chatio-image-modal-container {
  display: flex;
  width: 100vw;
  height: 100vh;
  max-width: 100%;
  max-height: 100%;
}

.chatio-image-modal-left-controls {
  width: 20%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.chatio-image-modal-center {
  width: 60%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.chatio-image-modal-right-controls {
  width: 20%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  position: relative;
}

.chatio-image-modal-image-container {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.chatio-image-modal-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.chatio-image-modal-nav {
  background: #ef4444;
  color: white;
  border: none;
  border-radius: 50%;
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 20px;
  transition: all 0.2s ease;
  backdrop-filter: blur(8px);
  box-shadow: 0 4px 16px rgba(239, 68, 68, 0.4);
}

.chatio-image-modal-nav:hover {
  background: #dc2626;
  transform: scale(1.1);
  box-shadow: 0 6px 24px rgba(239, 68, 68, 0.6);
}

.chatio-image-modal-close {
  position: absolute;
  top: 20px;
  right: 20px;
  background: #ef4444;
  color: white;
  border: none;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 18px;
  transition: all 0.2s ease;
  backdrop-filter: blur(8px);
  box-shadow: 0 4px 16px rgba(239, 68, 68, 0.4);
}

.chatio-image-modal-close:hover {
  background: #dc2626;
  transform: scale(1.1);
  box-shadow: 0 6px 24px rgba(239, 68, 68, 0.6);
}

.chatio-image-modal-info {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  backdrop-filter: blur(8px);
  text-align: center;
  font-size: 14px;
}

.chatio-image-modal-counter {
  font-weight: 600;
  margin-right: 8px;
}

.chatio-image-modal-filename {
  opacity: 0.8;
  font-size: 12px;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .chatio-image-modal-container {
    flex-direction: column;
  }
  
  .chatio-image-modal-left-controls,
  .chatio-image-modal-right-controls {
    width: 100%;
    height: 20%;
    flex-direction: row;
    justify-content: space-between;
    padding: 10px 20px;
  }
  
  .chatio-image-modal-center {
    width: 100%;
    height: 60%;
  }
  
  .chatio-image-modal-nav {
    width: 48px;
    height: 48px;
    font-size: 18px;
  }
  
  .chatio-image-modal-close {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    font-size: 16px;
  }
}

/* ======================
   MODERN TOGGLE SWITCH COMPONENT
   Professional design with smooth animations
   ====================== */

/* Toggle wrapper for alignment */
.chatio-toggle-wrapper {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Main toggle button container */
.chatio-modern-toggle {
  position: relative;
  display: flex;
  align-items: center;
  gap: 12px;
  background: transparent;
  border: none;
  cursor: pointer;
  outline: none;
  user-select: none;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.chatio-modern-toggle:focus {
  outline: 2px solid var(--chatio-primary);
  outline-offset: 2px;
  border-radius: 8px;
}

/* Toggle track - the background rail */
.chatio-modern-toggle-track {
  position: relative;
  width: 52px;
  height: 28px;
  background: #e5e7eb;
  border: 2px solid #d1d5db;
  border-radius: 14px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.05);
}

/* Toggle track when active/on */
.chatio-modern-toggle-on .chatio-modern-toggle-track {
  background: var(--chatio-primary);
  border-color: var(--chatio-primary);
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.1),
    0 2px 8px rgba(165, 61, 60, 0.3);
}

/* Toggle thumb - the moving circle */
.chatio-modern-toggle-thumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  background: #ffffff;
  border-radius: 50%;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 1px 2px rgba(0, 0, 0, 0.06),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translateX(0);
}

/* Thumb when toggle is on */
.chatio-modern-toggle-thumb-on {
  transform: translateX(24px);
  background: #ffffff;
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.15),
    0 2px 4px rgba(0, 0, 0, 0.1),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2);
}

/* Toggle label */
.chatio-modern-toggle-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--chatio-text-secondary);
  transition: all 0.3s ease;
  letter-spacing: 0.025em;
  text-transform: uppercase;
  min-width: 24px;
  text-align: center;
}

.chatio-modern-toggle-label-on {
  color: var(--chatio-primary);
}

/* Hover effects */
.chatio-modern-toggle:hover .chatio-modern-toggle-track {
  border-color: #9ca3af;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.08),
    0 2px 4px rgba(0, 0, 0, 0.08);
}

.chatio-modern-toggle:hover.chatio-modern-toggle-on .chatio-modern-toggle-track {
  border-color: var(--chatio-primary-hover);
  background: var(--chatio-primary-hover);
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.12),
    0 4px 12px rgba(165, 61, 60, 0.4);
}

.chatio-modern-toggle:hover .chatio-modern-toggle-thumb {
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.15),
    0 2px 4px rgba(0, 0, 0, 0.1),
    inset 0 0 0 1px rgba(255, 255, 255, 0.15);
  transform: translateX(2px) scale(1.05);
}

.chatio-modern-toggle:hover .chatio-modern-toggle-thumb-on {
  transform: translateX(22px) scale(1.05);
}

/* Active/pressed state */
.chatio-modern-toggle:active .chatio-modern-toggle-thumb {
  transform: translateX(1px) scale(0.95);
}

.chatio-modern-toggle:active .chatio-modern-toggle-thumb-on {
  transform: translateX(23px) scale(0.95);
}

/* Dark mode adjustments */
[data-mode="dark"] .chatio-modern-toggle-track {
  background: #374151;
  border-color: #4b5563;
}

[data-mode="dark"] .chatio-modern-toggle-on .chatio-modern-toggle-track {
  background: var(--chatio-primary);
  border-color: var(--chatio-primary);
}

[data-mode="dark"] .chatio-modern-toggle-thumb {
  background: #f9fafb;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.3),
    0 1px 2px rgba(0, 0, 0, 0.2),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

[data-mode="dark"] .chatio-modern-toggle:hover .chatio-modern-toggle-track {
  border-color: #6b7280;
}

[data-mode="dark"] .chatio-modern-toggle:hover .chatio-modern-toggle-thumb {
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.15);
}

/* Animation for initial load */
@keyframes toggleMount {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.chatio-modern-toggle {
  animation: toggleMount 0.3s ease-out;
}

/* Accessibility improvements */
.chatio-modern-toggle:focus-visible {
  outline: 2px solid var(--chatio-primary);
  outline-offset: 4px;
  border-radius: 20px;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .chatio-modern-toggle,
  .chatio-modern-toggle-track,
  .chatio-modern-toggle-thumb,
  .chatio-modern-toggle-label {
    transition: none !important;
  }
  
  .chatio-modern-toggle {
    animation: none !important;
  }
}

/* Debug Panel Styles */
.chatio-debug-container {
  padding: 16px 24px;
  border-bottom: 1px solid var(--chatio-border);
  background: var(--chatio-surface);
}

.chatio-debug-panel {
  max-width: 800px;
  margin: 0 auto;
}

.chatio-debug-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 12px;
}

.chatio-debug-header h4 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--chatio-text-primary);
  display: flex;
  align-items: center;
  gap: 8px;
}

.chatio-debug-result {
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid var(--chatio-border);
  background: var(--chatio-bg);
}

.chatio-debug-result.success {
  border-color: #22c55e;
  background: rgba(34, 197, 94, 0.05);
}

.chatio-debug-result.error {
  border-color: #ef4444;
  background: rgba(239, 68, 68, 0.05);
}

.chatio-debug-status {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.chatio-debug-status i {
  width: 16px;
  text-align: center;
}

.chatio-debug-result.success .chatio-debug-status i {
  color: #22c55e;
}

.chatio-debug-result.error .chatio-debug-status i {
  color: #ef4444;
}

.chatio-debug-status strong {
  color: var(--chatio-text-primary);
  font-weight: 600;
}

.chatio-debug-details {
  color: var(--chatio-text-secondary);
  font-size: 13px;
  line-height: 1.4;
}

.chatio-debug-details small {
  font-size: inherit;
}

/* Dark mode adjustments */
[data-mode="dark"] .chatio-debug-result.success {
  background: rgba(34, 197, 94, 0.1);
}

[data-mode="dark"] .chatio-debug-result.error {
  background: rgba(239, 68, 68, 0.1);
}

/* Responsive design */
@media (max-width: 768px) {
  .chatio-debug-header {
    flex-direction: column;
    align-items: stretch;
  }
  
  .chatio-debug-container {
    padding: 12px 16px;
  }
}

